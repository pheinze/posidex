@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
    font-family: 'Inter';
    font-style: normal;
    font-weight: 400;
    src: url('/fonts/Inter_18pt-Regular.ttf') format('truetype');
}

@font-face {
    font-family: 'Inter';
    font-style: normal;
    font-weight: 500;
    src: url('/fonts/Inter_18pt-Medium.ttf') format('truetype');
}

@font-face {
    font-family: 'Inter';
    font-style: normal;
    font-weight: 600;
    src: url('/fonts/Inter_18pt-SemiBold.ttf') format('truetype');
}

@font-face {
    font-family: 'Inter';
    font-style: normal;
    font-weight: 700;
    src: url('/fonts/Inter_18pt-Bold.ttf') format('truetype');
}

:root {
    --bg-primary: #0f172a; --bg-secondary: #1e293b; --bg-tertiary: #334155;
    --text-primary: #e2e8f0; --text-secondary: #94a3b8; --border-color: #475569;
    --accent-color: #38bdf8; --accent-color-hover: #0ea5e9;
    --success-color: #22c55e; --danger-color: #ef4444; --warning-color: #facc15;
    --shadow-tooltip: 0 30px 90px -20px rgba(0, 0, 0, 0.3);
    --btn-default-bg: #475569; --btn-default-hover-bg: #64748b; --btn-default-text: #e2e8f0;
    --btn-danger-bg: #991b1b; --btn-danger-hover-bg: #b91c1c; --btn-danger-text: #e2e8f0;
    --btn-accent-bg: #0ea5e9; --btn-accent-hover-bg: #0284c7; --btn-accent-text: #e2e8f0;
    --btn-success-bg: #22c55e; --btn-success-hover-bg: #16a34a; --btn-success-text: #e2e8f0;
    --toggle-bg-off: #475569; --toggle-bg-on: #0ea5e9; --toggle-circle-bg: var(--text-primary);
    --overlay-color: rgba(0, 0, 0, 0.7);
}
.theme-light {
    --bg-primary: #f1f5f9; --bg-secondary: #ffffff; --bg-tertiary: #e2e8f0;
    --text-primary: #1e293b; --text-secondary: #64748b; --border-color: #cbd5e1;
    --accent-color: #38bdf8; --accent-color-hover: #0ea5e9;
    --success-color: #16a34a; --danger-color: #dc2626; --warning-color: #f59e0b;
    --shadow-tooltip: 0 30px 90px -20px rgba(0, 0, 0, 0.1);
    --btn-default-bg: #94a3b8; --btn-default-hover-bg: #cbd5e1; --btn-default-text: #1e293b;
    --btn-danger-bg: #ef4444; --btn-danger-hover-bg: #dc2626; --btn-danger-text: #ffffff;
    --btn-accent-bg: #38bdf8; --btn-accent-hover-bg: #0ea5e9; --btn-accent-text: #ffffff;
    --btn-success-bg: #16a34a; --btn-success-hover-bg: #15803d; --btn-success-text: #ffffff;
    --toggle-bg-off: #94a3b8; --toggle-bg-on: #38bdf8; --toggle-circle-bg: var(--text-primary);
    --overlay-color: rgba(255, 255, 255, 0.7);
}

.theme-meteorite {
    /* --- Core Palette --- */
    --core-purple: #4e21e7;
    --core-meteorite: #433f65;
    --core-green-free: #0da49a;
    --core-blue-pro: #334eff;
    --core-red-insights: #ee485f;

    /* --- Light & Dark Shades --- */
    --purple-light: #ede8fd;
    --purple-dark: #0c082f;
    --green-free-light: #e6f6f5;
    --green-free-dark: #002039;
    --blue-pro-light: #eaedff;
    --blue-pro-dark: #08103f;
    --red-insights-light: #feecef;
    --red-insights-dark: #0f0523;

    /* --- Gradients --- */
    --gradient-purple-light: #2b1f99;
    --gradient-purple-dark: #0c082f;
    --gradient-green-light: #3c8499;
    --gradient-green-dark: #002039;
    --gradient-blue-light: #283a80; /* Custom derived color */
    --gradient-blue-dark: #08103f;
    --gradient-red-light: #6d2954;
    --gradient-red-dark: #0f0523;

    /* --- Highlighting Colors --- */
    --highlight-purple: #7383f5;
    --highlight-purple-alt: #c2befa;
    --highlight-green: #48b082;
    --highlight-green-alt: #7fb5a8;
    --highlight-blue: #80b8f2;
    --highlight-blue-alt: #c2cfed;
    --highlight-red: #fa9de7;
    --highlight-red-alt: #ffe0ee;

    /* --- Theming Variables (Meteorite) --- */
    /* Backgrounds and Text based on Purple */
    --bg-primary: radial-gradient(farthest-side at top, var(--gradient-purple-light), var(--gradient-purple-dark));
    --bg-secondary: #1a154a; /* Derived intermediate color */
    --bg-tertiary: var(--gradient-purple-light);
    --text-primary: var(--purple-light);
    --text-secondary: var(--highlight-purple-alt);
    --border-color: var(--core-meteorite);

    /* Accent color based on Blue PRO */
    --accent-color: var(--core-blue-pro);
    --accent-color-hover: #5c71ff; /* Blue Button hover color */

    /* UI Feedback Colors */
    --success-color: var(--core-green-free);
    --danger-color: var(--core-red-insights);
    --warning-color: var(--highlight-red);

    /* Button Colors */
    --btn-default-bg: var(--core-meteorite);
    --btn-default-hover-bg: #5b587d; /* Derived from Meteorite */
    --btn-default-text: var(--purple-light);

    --btn-danger-bg: var(--core-red-insights);
    --btn-danger-hover-bg: #f46d7e;
    --btn-danger-text: #ffffff;

    --btn-accent-bg: var(--core-blue-pro);
    --btn-accent-hover-bg: #5c71ff;
    --btn-accent-text: #ffffff;

    --btn-success-bg: var(--core-green-free);
    --btn-success-hover-bg: #3db6af;
    --btn-success-text: #ffffff;

    /* Toggle Switch */
    --toggle-bg-off: var(--core-meteorite);
    --toggle-bg-on: var(--core-blue-pro);
    --toggle-circle-bg: var(--text-primary);

    --overlay-color: rgba(12, 8, 47, 0.7); /* Based on purple-dark */
}

.theme-steel {
    /* Using the same full palette definition for completeness */
    /* --- Core Palette --- */
    --core-purple: #4e21e7;
    --core-meteorite: #433f65;
    --core-green-free: #0da49a;
    --core-blue-pro: #334eff;
    --core-red-insights: #ee485f;

    /* --- Light & Dark Shades --- */
    --purple-light: #ede8fd;
    --purple-dark: #0c082f;
    --green-free-light: #e6f6f5;
    --green-free-dark: #002039;
    --blue-pro-light: #eaedff;
    --blue-pro-dark: #08103f;
    --red-insights-light: #feecef;
    --red-insights-dark: #0f0523;

    /* --- Gradients --- */
    --gradient-purple-light: #2b1f99;
    --gradient-purple-dark: #0c082f;
    --gradient-green-light: #3c8499;
    --gradient-green-dark: #002039;
    --gradient-blue-light: #3c6e99;
    --gradient-blue-dark: #08103f;
    --gradient-red-light: #6d2954;
    --gradient-red-dark: #0f0523;

    /* --- Highlighting Colors --- */
    --highlight-purple: #7383f5;
    --highlight-purple-alt: #c2befa;
    --highlight-green: #48b082;
    --highlight-green-alt: #7fb5a8;
    --highlight-blue: #80b8f2;
    --highlight-blue-alt: #c2cfed;
    --highlight-red: #fa9de7;
    --highlight-red-alt: #ffe0ee;

    /* --- Theming Variables (Steel) --- */
    /* Backgrounds and Text based on Blue */
    --bg-primary: radial-gradient(farthest-side at top, var(--gradient-blue-light), var(--gradient-blue-dark));
    --bg-secondary: #1a2a6c; /* Derived intermediate color */
    --bg-tertiary: #283a80; /* Custom derived color for better contrast */
    --text-primary: var(--blue-pro-light);
    --text-secondary: var(--highlight-blue-alt);
    --border-color: var(--core-meteorite); /* Using Meteorite for borders as a neutral choice */

    /* Accent color based on Blue PRO */
    --accent-color: var(--core-blue-pro);
    --accent-color-hover: #5c71ff; /* Button hover color */

    /* UI Feedback Colors */
    --success-color: var(--core-green-free);
    --danger-color: var(--core-red-insights);
    --warning-color: var(--highlight-red);

    /* Button Colors */
    --btn-default-bg: var(--core-meteorite);
    --btn-default-hover-bg: #5b587d;
    --btn-default-text: var(--blue-pro-light);

    --btn-danger-bg: var(--core-red-insights);
    --btn-danger-hover-bg: #f46d7e;
    --btn-danger-text: #ffffff;

    --btn-accent-bg: var(--core-blue-pro);
    --btn-accent-hover-bg: #5c71ff;
    --btn-accent-text: #ffffff;

    --btn-success-bg: var(--core-green-free);
    --btn-success-hover-bg: #3db6af;
    --btn-success-text: #ffffff;

    /* Toggle Switch */
    --toggle-bg-off: var(--core-meteorite);
    --toggle-bg-on: var(--core-blue-pro);
    --toggle-circle-bg: var(--text-primary);

    --overlay-color: rgba(8, 16, 63, 0.7); /* Based on blue-pro-dark */
}


.theme-VIP {
    --bg-primary: #121212;
    --bg-secondary: #1e1e1e;
    --bg-tertiary: #2c2c2c;
    --text-primary: #e0e0e0;
    --text-secondary: #b0b0b0;
    --border-color: #444;

    /* Neue Akzentfarbe und Hover-Zustand */
    --accent-color: #e2ff00;
    --accent-color-hover: #cde200;

    /* Standard-UI-Feedback-Farben, mit neuer Warnfarbe */
    --success-color: #4caf50;
    --danger-color: #f44336;
    --warning-color: #ff9800;

    /* Standard-Button mit der neuen grauen Farbe */
    --btn-default-bg: #9598a1;
    --btn-default-hover-bg: #82858d;
    --btn-default-text: #121212; /* Dunkler Text für besseren Kontrast */

    /* Danger-Button (unverändert) */
    --btn-danger-bg: #b71c1c;
    --btn-danger-hover-bg: #d32f2f;
    --btn-danger-text: #e0e0e0;

    /* Akzent-Button mit der neuen Akzentfarbe */
    --btn-accent-bg: #e2ff00;
    --btn-accent-hover-bg: #cde200;
    --btn-accent-text: #121212; /* Dunkler Text für besseren Kontrast */
    --btn-success-bg: #4caf50; --btn-success-hover-bg: #43a047; --btn-success-text: #ffffff;

    /* Toggle-Switch mit der neuen Akzentfarbe */
    --toggle-bg-off: #444;
    --toggle-bg-on: #e2ff00;
    --toggle-circle-bg: var(--text-primary);

    --overlay-color: rgba(0, 0, 0, 0.7);
}

.theme-matrix {
    --bg-primary: #000000;
    --bg-secondary: #0D0D0D;
    --bg-tertiary: #1a1a1a;
    --text-primary: #00ff41;
    --text-secondary: #00b32d;
    --border-color: #00802b;
    --accent-color: #00ff41;
    --accent-color-hover: #00e639;
    --success-color: #00ff41;
    --danger-color: #ff0000;
    --warning-color: #ffff00;
    --btn-default-bg: #00802b;
    --btn-default-hover-bg: #00b32d;
    --btn-default-text: #000000;
    --btn-danger-bg: #990000;
    --btn-danger-hover-bg: #cc0000;
    --btn-danger-text: #000000;
    --btn-accent-bg: #00ff41; --btn-accent-hover-bg: #00e639;
    --btn-accent-text: #000000;
    --btn-success-bg: #00ff41; --btn-success-hover-bg: #00e639; --btn-success-text: #000000;
    --toggle-bg-off: #00802b;
    --toggle-bg-on: #00ff41;
    --toggle-circle-bg: var(--text-primary);
    --overlay-color: rgba(0, 0, 0, 0.7);
}
.theme-dracula {
    --bg-primary: #282a36; --bg-secondary: #383a59; --bg-tertiary: #44475a;
    --text-primary: #f8f8f2; --text-secondary: #bd93f9; --border-color: #6272a4;
    --accent-color: #ff79c6; --accent-color-hover: #ff92d0;
    --success-color: #50fa7b; --danger-color: #ff5555; --warning-color: #f1fa8c;
    --btn-default-bg: #44475a; --btn-default-hover-bg: #6272a4; --btn-default-text: #f8f8f2;
    --btn-danger-bg: #ff5555; --btn-danger-hover-bg: #ff6e6e; --btn-danger-text: #282a36;
    --btn-accent-bg: #ff79c6; --btn-accent-hover-bg: #ff92d0; --btn-accent-text: #282a36;
    --btn-success-bg: #50fa7b; --btn-success-hover-bg: #62faa4; --btn-success-text: #282a36;
    --toggle-bg-off: #44475a; --toggle-bg-on: #bd93f9; --toggle-circle-bg: var(--text-primary);
    --overlay-color: rgba(0, 0, 0, 0.7);
}
.theme-solarized-light {
    --bg-primary: #fdf6e3; --bg-secondary: #eee8d5; --bg-tertiary: #e7e1cf;
    --text-primary: #657b83; --text-secondary: #586e75; --border-color: #93a1a1;
    --accent-color: #268bd2; --accent-color-hover: #1e6a9e;
    --success-color: #859900; --danger-color: #dc322f; --warning-color: #b58900;
    --btn-default-bg: #93a1a1; --btn-default-hover-bg: #839496; --btn-default-text: #fdf6e3;
    --btn-danger-bg: #dc322f; --btn-danger-hover-bg: #cb4b16; --btn-danger-text: #fdf6e3;
    --btn-accent-bg: #268bd2; --btn-accent-hover-bg: #1e6a9e; --btn-accent-text: #fdf6e3;
    --btn-success-bg: #859900; --btn-success-hover-bg: #728300; --btn-success-text: #fdf6e3;
    --toggle-bg-off: #93a1a1; --toggle-bg-on: #268bd2; --toggle-circle-bg: #fdf6e3;
    --overlay-color: rgba(255, 255, 255, 0.7);
}
.theme-nord {
    --bg-primary: #2e3440; --bg-secondary: #3b4252; --bg-tertiary: #434c5e;
    --text-primary: #d8dee9; --text-secondary: #e5e9f0; --border-color: #4c566a;
    --accent-color: #88c0d0; --accent-color-hover: #8fbcbb;
    --success-color: #a3be8c; --danger-color: #bf616a; --warning-color: #ebcb8b;
    --btn-default-bg: #434c5e; --btn-default-hover-bg: #4c566a; --btn-default-text: #d8dee9;
    --btn-danger-bg: #bf616a; --btn-danger-hover-bg: #d08770; --btn-danger-text: #2e3440;
    --btn-accent-bg: #88c0d0; --btn-accent-hover-bg: #8fbcbb; --btn-accent-text: #2e3440;
    --btn-success-bg: #a3be8c; --btn-success-hover-bg: #99b57e; --btn-success-text: #2e3440;
    --toggle-bg-off: #434c5e; --toggle-bg-on: #88c0d0; --toggle-circle-bg: #d8dee9;
    --overlay-color: rgba(0, 0, 0, 0.7);
}

body { font-family: 'Inter', sans-serif; background: var(--bg-primary); color: var(--text-primary); transition: background 0.3s, color 0.3s; position: relative; }
.calculator-wrapper { background-color: var(--bg-secondary); }
.input-field { background-color: var(--bg-tertiary); border: 1px solid var(--border-color); color: var(--text-primary); }
.input-field:disabled { background-color: var(--bg-secondary); cursor: not-allowed; opacity: 0.7; }
.input-field.invalid { border-color: var(--danger-color); box-shadow: 0 0 0 2px color-mix(in srgb, var(--danger-color) 40%, transparent); }
.tp-percent.locked-input { background: var(--bg-primary); cursor: not-allowed; }
.section-header { background-color: var(--bg-tertiary); padding: 0.5rem 1rem; border-radius: 0.375rem; margin-bottom: 1rem; font-weight: 700; font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-secondary); display: flex; justify-content: space-between; align-items: center; }
.result-group { background: var(--bg-primary); padding: 1rem; border-radius: 0.5rem; margin-top: 1.5rem; }
.result-item { display: flex; justify-content: space-between; align-items: baseline; flex-wrap: wrap; padding: 0.75rem 0; border-bottom: 1px solid var(--bg-tertiary); }
.result-item:last-child { border-bottom: none; }
.result-label { color: var(--text-secondary); display: flex; align-items: center; gap: 0.5rem; margin-right: 1rem; }
.input-label { @apply block text-xs font-medium text-[var(--text-secondary)] mb-1; }
.result-value { color: var(--text-primary); font-weight: 600; text-align: right; word-break: break-all; flex-grow: 1; }
.fade-in { animation: fadeIn 0.5s ease-in-out; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
input[type=number] { -moz-appearance: textfield; }

.trade-type-switch button { padding: 0.5rem 1rem; border-radius: 0.375rem; transition: all 0.2s ease-in-out; border: 1px solid transparent; }
.trade-type-switch button.active { font-weight: 700; }
.trade-type-switch button.long.active { background-color: var(--success-color); border-color: var(--success-color); color: var(--btn-default-text); }
.trade-type-switch button.short.active { background-color: var(--danger-color); border-color: var(--danger-color); color: var(--btn-default-text); }
.trade-type-switch button:not(.active) { background-color: var(--bg-tertiary); color: var(--text-primary); }
.trade-type-switch { background-color: var(--bg-tertiary); }

/* Styles for ATR Mode Switcher */
.atr-mode-switcher {
    display: flex;
    gap: 0.5rem; /* 8px */
}

.btn-switcher {
    padding: 0;
    border: none;
    background-color: transparent;
    color: var(--text-secondary);
    cursor: pointer;
    transition: color 0.2s ease-in-out;
    font-size: 0.875rem; /* 14px */
    font-weight: 500; /* Medium weight for non-active */
}

.btn-switcher.active {
    color: var(--text-primary);
    font-weight: 700; /* Bold for active */
}

.atr-toggle-track { background-color: var(--toggle-bg-off); transition: background-color 0.3s; }
input[type="checkbox"]:checked + .atr-toggle-track { background-color: var(--toggle-bg-on); }
.atr-toggle-track::after { background-color: var(--toggle-circle-bg); border-color: var(--border-color); transition: transform 0.3s, background-color 0.3s, border-color 0.3s; }
input[type="checkbox"]:checked + .atr-toggle-track::after { transform: translateX(calc(100% + 2px)); border-color: var(--toggle-circle-bg); }

.copy-btn, .price-fetch-btn { background: none; border: none; color: var(--text-secondary); cursor: pointer; transition: color 0.2s; padding-right: 0.25rem; }
.copy-btn:hover, .price-fetch-btn:hover { color: var(--success-color); }

/* New class for accent-colored icon buttons */
.btn-icon-accent {
    color: var(--accent-color);
    transition: color 0.2s;
}
.btn-icon-accent:hover {
    color: var(--accent-color-hover);
}

/* New class for lock icons */
.btn-lock-icon {
    color: var(--text-secondary);
    transition: color 0.2s;
}
.btn-lock-icon:hover {
    color: var(--accent-color);
}

/* New class for modal OK button */
.btn-modal-ok {
    background-color: var(--btn-accent-bg);
    color: var(--btn-accent-text);
    transition: background-color 0.2s;
}
.btn-modal-ok:hover {
    background-color: var(--btn-accent-hover-bg);
}

/* Custom classes for theme-aware buttons */
.btn-primary-action {
    background-color: var(--btn-accent-bg);
    color: var(--btn-accent-text);
    transition: background-color 0.2s;
}
.btn-primary-action:hover {
    background-color: var(--btn-accent-hover-bg);
}

.btn-secondary-action {
    background-color: var(--btn-default-bg);
    color: var(--btn-default-text);
    transition: background-color 0.2s;
}
.btn-secondary-action:hover {
    background-color: var(--btn-default-hover-bg);
}

.btn-primary-action:disabled,
.btn-secondary-action:disabled {
    background-color: var(--bg-tertiary);
    color: var(--text-secondary);
    cursor: not-allowed;
}

.copy-feedback, .save-feedback { color: var(--success-color); font-size: 0.8rem; visibility: hidden; opacity: 0; transition: all 0.3s; }
.copy-feedback.visible, .save-feedback.visible {
    visibility: visible;
    opacity: 1;
}
.visual-bar-container { background: var(--bg-primary); padding: 2.5rem 1rem 2.5rem 1rem; border-radius: 0.5rem; margin-top: 1.5rem; position: relative; }
.visual-bar { height: 1.5rem; position: relative; display: flex; border-radius: 0.375rem; overflow: visible; background-color: var(--bg-tertiary); }
.loss-zone { background-color: var(--danger-color); position: absolute; height: 100%;}
.gain-zone { background-color: var(--success-color); position: absolute; height: 100%;}
.bar-marker { position: absolute; top: -0.25rem; bottom: -0.25rem; width: 20px; display: flex; flex-direction: column; align-items: center; cursor: pointer; transform: translateX(-50%); }
.bar-marker::before { content: ''; position: absolute; left: 50%; transform: translateX(-50%); width: 4px; height: 100%; background-color: var(--text-primary); }
.bar-marker span { position: absolute; font-size: 0.75rem; background-color: var(--bg-tertiary); padding: 0.1rem 0.3rem; border-radius: 0.25rem; white-space: nowrap; }
.bar-marker:not(.entry-marker) span { bottom: 100%; margin-bottom: 0.25rem; box-shadow: var(--shadow-tooltip); }
.entry-marker span { top: 100%; margin-top: 0.25rem; }
.bar-marker:hover .tp-tooltip {
    visibility: visible;
    opacity: 1;
    transform: translateX(-50%) translateY(-5px);
}
.tp-tooltip {
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%) translateY(0);
    
    visibility: hidden;
    opacity: 0;
    transition: opacity 0.2s, visibility 0.2s, transform 0.2s;
    
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
    padding: 0.5rem 0.75rem;
    border-radius: 0.5rem;
    font-size: 0.8rem;
    white-space: nowrap;
    z-index: 60;
    pointer-events: none;
    box-shadow: var(--shadow-tooltip);
}
.tp-tooltip::before {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 5px solid transparent;
    border-right: 5px solid transparent;
    border-top: 5px solid var(--bg-tertiary);
}

.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--overlay-color);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 50;
    visibility: hidden;
    opacity: 0;
    transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
}
.modal-overlay.visible {
    visibility: visible;
    opacity: 1;
}
.modal-content {
    background-color: var(--bg-secondary);
    padding: 2rem;
    border-radius: 1rem;
    max-width: 90vw;
    max-height: 90vh;
    overflow-y: auto;
    transform: scale(0.95);
    opacity: 0;
    transition: transform 0.2s ease-in-out, opacity 0.2s ease-in-out;
}
.modal-overlay.visible .modal-content {
    transform: scale(1);
    opacity: 1;
}
.journal-table { width: 100%; border-collapse: collapse; }
.journal-table th, .journal-table td { padding: 0.75rem; border: 1px solid var(--border-color); text-align: left; font-size: 0.875rem; }
.journal-table th { background-color: var(--bg-tertiary); }
.notes-cell { max-width: 200px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; cursor: pointer; transition: all 0.2s ease-in-out; }
.notes-cell.expanded { white-space: pre-wrap; overflow: visible; text-overflow: clip; max-width: 400px; }
.journal-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 0.5rem; margin-bottom: 1.5rem; }
.stat-card { background: var(--bg-primary); padding: 0.75rem; border-radius: 0.5rem; text-align: center; }
.stat-value { font-size: 1.25rem; font-weight: 700; }
.stat-label { font-size: 0.75rem; color: var(--text-secondary); }
.suggestion-item { background-color: var(--bg-secondary); padding: 0.5rem 1rem; cursor: pointer; color: var(--text-primary); }
.suggestion-item:hover { background-color: var(--accent-color); color: #ffffff; }

.prose h3 { margin-top: 1.5em; margin-bottom: 0.5em; font-size: 1.25rem; font-weight: 600; border-bottom: 1px solid var(--border-color); padding-bottom: 0.3em;}
.prose p { margin-bottom: 1em; line-height: 1.6; }
.prose ul { list-style-type: disc; margin-left: 1.5em; margin-bottom: 1em; }
.prose li { margin-bottom: 0.5em; }
.prose strong { color: var(--text-primary); font-weight: 600; }
.prose code { background-color: var(--bg-tertiary); padding: 0.2em 0.4em; margin: 0; font-size: 85%; border-radius: 3px; }
.price-loaded-flash { animation: price-flash 0.7s ease-in-out; }
@keyframes price-flash {
    0% { background-color: var(--bg-tertiary); }
    30% { background-color: color-mix(in srgb, var(--accent-color) 50%, var(--bg-tertiary)); }
    100% { background-color: var(--bg-tertiary); }
}

.text-link {
  color: var(--accent-color);
  text-decoration: none;
}

.text-link:hover {
  text-decoration: underline;
}

/* Accessibility fix for button contrast */

/* VIP Theme: Use light text on green 'Long' button */
.theme-VIP .trade-type-switch button.long.active {
    color: #ffffff;
}

/* Dracula Theme: Use dark text on bright 'Long' and 'Short' buttons */
.theme-dracula .trade-type-switch button.long.active,
.theme-dracula .trade-type-switch button.short.active {
    color: #282a36;
}

/* Solarized Light Theme: Use very dark/light text for contrast */
.theme-solarized-light .trade-type-switch button.long.active {
    color: #002b36; /* Use dark color for contrast on olive */
}
.theme-solarized-light .trade-type-switch button.short.active {
    color: #ffffff; /* Use white for better contrast on red */
}

/* Nord Theme: Use dark text on light 'Long' and 'Short' buttons */
.theme-nord .trade-type-switch button.long.active,
.theme-nord .trade-type-switch button.short.active {
    color: #2e3440;
}

/* User-requested color override for 'Short' button text */
.theme-light .trade-type-switch button.short.active,
.theme-VIP .trade-type-switch button.short.active,
.theme-matrix .trade-type-switch button.short.active {
    color: #ffffff; /* Use light text color as requested */
}

/* --- Accessibility fix for 'Clear Journal' button in Matrix theme --- */
.theme-matrix #clear-journal-btn {
    color: var(--text-primary);
}

/* --- Accessibility fix for suggestion dropdown hover color --- */
.theme-VIP .suggestion-item:hover {
    color: #121212;
}
.theme-matrix .suggestion-item:hover {
    color: #000000;
}

/* Themed Scrollbar Styles */
::-webkit-scrollbar {
    width: 12px;
}

::-webkit-scrollbar-track {
    background: var(--bg-secondary);
}

::-webkit-scrollbar-thumb {
    background-color: var(--bg-tertiary);
    border-radius: 6px;
    border: 3px solid var(--bg-secondary);
}

::-webkit-scrollbar-thumb:hover {
    background-color: var(--accent-color);
}

/* Unified Modal Styles */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0,0,0,0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 50;
    visibility: hidden;
    opacity: 0;
    transition: visibility 0s, opacity 0.3s linear;
}
.modal-overlay.visible {
    visibility: visible;
    opacity: 1;
}
.modal-content {
    background-color: var(--bg-secondary);
    padding: 2rem;
    border-radius: 1rem;
    overflow-y: auto;
    position: relative;
    max-height: 90vh;
    width: 90vw;
}
.modal-content-sm {
    @apply max-w-lg;
}
.modal-content-xl {
    @apply max-w-6xl;
}

/* Unified Modal Header and Close Button */
.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.modal-title {
    font-size: 1.5rem;
    font-weight: 700;
}

.modal-close-btn {
    font-size: 2rem;
    line-height: 1;
    cursor: pointer;
    background: none;
    border: none;
    color: var(--text-secondary);
    transition: color 0.2s;
}
.modal-close-btn:hover {
    color: var(--text-primary);
}