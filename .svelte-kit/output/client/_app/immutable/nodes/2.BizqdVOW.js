import"../chunks/DsnmJJEf.js";import{i as ot}from"../chunks/CCwjE8Ld.js";import{H as Js,F as ii,as as Us,a7 as Jr,z as Le,at as kr,E as ja,g as d,ak as Ya,a4 as li,a5 as oi,a6 as Es,a8 as $a,M as Mt,au as Ys,av as ci,I as Ma,K as ui,aw as Hr,ax as Kr,J as Xt,ay as $s,_ as tr,az as zs,aA as Zs,aB as Ws,aa as Hs,O as di,aC as pi,aD as za,R as Ks,aE as Qs,aF as hi,aG as Xs,aH as vi,aI as fi,aJ as gi,ai as Za,t as K,aK as bi,aL as mi,aM as xi,aN as Is,aO as _i,P as Ae,b as p,Q as Wa,e as U,aP as ki,aQ as Ha,aR as yi,aS as wi,ad as Pi,aT as Si,G as Ti,aU as Li,aV as Ai,aW as Ri,aX as en,aY as Ei,n as br,aZ as $i,a_ as zi,p as ct,i as te,a$ as B,k as Y,l as ut,x as b,m as u,w as v,q as c,b0 as Qr,b1 as Ii,b2 as Fi,v as Ct,a1 as Tr,D as tn,ac as We,b3 as wr,T as er,b4 as me,b5 as yr,b6 as rn,o as Ci,b7 as Oi,a2 as Di,b8 as ji}from"../chunks/DFAaWNzm.js";import{p as W,s as dt,a as je,$ as et,i as ye,l as an,_ as Qt,b as Fs}from"../chunks/CPiIxmvj.js";import{C as I,s as j,r as Oe,a as ue,D as w,i as H,t as kt,u as Q,b as sn,c as Na,d as Br,e as Cs,f as Ia,g as Fa}from"../chunks/CM4uSmwo.js";function It(t,e){return e}function Mi(t,e,a){for(var n=t.items,r=[],l=e.length,s=0;s<l;s++)vi(e[s].e,r,!0);var o=l>0&&r.length===0&&a!==null;if(o){var i=a.parentNode;fi(i),i.append(a),n.clear(),nt(t,e[0].prev,e[l-1].next)}gi(r,()=>{for(var f=0;f<l;f++){var h=e[f];o||(n.delete(h.k),nt(t,h.prev,h.next)),Qs(h.e,!o)}})}function Ft(t,e,a,n,r,l=null){var s=t,o={flags:e,items:new Map,first:null},i=(e&Us)!==0;if(i){var f=t;s=Le?Jr(kr(f)):f.appendChild(Js())}Le&&ja();var h=null,g=!1,x=new Map,_=Ya(()=>{var A=a();return Ws(A)?A:A==null?[]:Zs(A)}),m,P;function L(){Ni(P,m,o,x,s,r,e,n,a),l!==null&&(m.length===0?h?Hs(h):h=Ma(()=>l(s)):h!==null&&di(h,()=>{h=null}))}ii(()=>{P??=Za,m=d(_);var A=m.length;if(g&&A===0)return;g=A===0;let E=!1;if(Le){var F=li(s)===oi;F!==(A===0)&&(s=Es(),Jr(s),$a(!1),E=!0)}if(Le){for(var O=null,C,T=0;T<A;T++){if(Mt.nodeType===Ys&&Mt.data===ci){s=Mt,E=!0,$a(!1);break}var S=m[T],R=n(S,T);C=Ba(Mt,o,O,null,S,R,T,r,e,a),o.items.set(R,C),O=C}A>0&&Jr(Es())}if(Le)A===0&&l&&(h=Ma(()=>l(s)));else if(ui()){var z=new Set,N=Xt;for(T=0;T<A;T+=1){S=m[T],R=n(S,T);var D=o.items.get(R)??x.get(R);D?(e&(Hr|Kr))!==0&&nn(D,S,T,e):(C=Ba(null,o,null,null,S,R,T,r,e,a,!0),x.set(R,C)),z.add(R)}for(const[V,X]of o.items)z.has(V)||N.skipped_effects.add(X.e);N.add_callback(L)}else L();E&&$a(!0),d(_)}),Le&&(s=Mt)}function Ni(t,e,a,n,r,l,s,o,i){var f=(s&hi)!==0,h=(s&(Hr|Kr))!==0,g=e.length,x=a.items,_=a.first,m=_,P,L=null,A,E=[],F=[],O,C,T,S;if(f)for(S=0;S<g;S+=1)O=e[S],C=o(O,S),T=x.get(C),T!==void 0&&(T.a?.measure(),(A??=new Set).add(T));for(S=0;S<g;S+=1){if(O=e[S],C=o(O,S),T=x.get(C),T===void 0){var R=n.get(C);if(R!==void 0){n.delete(C),x.set(C,R);var z=L?L.next:m;nt(a,L,R),nt(a,R,z),Ca(R,z,r),L=R}else{var N=m?m.e.nodes_start:r;L=Ba(N,a,L,L===null?a.first:L.next,O,C,S,l,s,i)}x.set(C,L),E=[],F=[],m=L.next;continue}if(h&&nn(T,O,S,s),(T.e.f&za)!==0&&(Hs(T.e),f&&(T.a?.unfix(),(A??=new Set).delete(T))),T!==m){if(P!==void 0&&P.has(T)){if(E.length<F.length){var D=F[0],V;L=D.prev;var X=E[0],ce=E[E.length-1];for(V=0;V<E.length;V+=1)Ca(E[V],D,r);for(V=0;V<F.length;V+=1)P.delete(F[V]);nt(a,X.prev,ce.next),nt(a,L,X),nt(a,ce,D),m=D,L=ce,S-=1,E=[],F=[]}else P.delete(T),Ca(T,m,r),nt(a,T.prev,T.next),nt(a,T,L===null?a.first:L.next),nt(a,L,T),L=T;continue}for(E=[],F=[];m!==null&&m.k!==C;)(m.e.f&za)===0&&(P??=new Set).add(m),F.push(m),m=m.next;if(m===null)continue;T=m}E.push(T),L=T,m=T.next}if(m!==null||P!==void 0){for(var G=P===void 0?[]:Zs(P);m!==null;)(m.e.f&za)===0&&G.push(m),m=m.next;var q=G.length;if(q>0){var re=(s&Us)!==0&&g===0?r:null;if(f){for(S=0;S<q;S+=1)G[S].a?.measure();for(S=0;S<q;S+=1)G[S].a?.fix()}Mi(a,G,re)}}f&&Ks(()=>{if(A!==void 0)for(T of A)T.a?.apply()}),t.first=a.first&&a.first.e,t.last=L&&L.e;for(var $ of n.values())Qs($.e);n.clear()}function nn(t,e,a,n){(n&Hr)!==0&&$s(t.v,e),(n&Kr)!==0?$s(t.i,a):t.i=a}function Ba(t,e,a,n,r,l,s,o,i,f,h){var g=(i&Hr)!==0,x=(i&pi)===0,_=g?x?tr(r,!1,!1):zs(r):r,m=(i&Kr)===0?s:zs(s),P={i:m,v:_,k:l,a:null,e:null,prev:a,next:n};try{if(t===null){var L=document.createDocumentFragment();L.append(t=Js())}return P.e=Ma(()=>o(t,_,m,f),Le),P.e.prev=a&&a.e,P.e.next=n&&n.e,a===null?h||(e.first=P):(a.next=P,a.e.next=P.e),n!==null&&(n.prev=P,n.e.prev=P.e),P}finally{}}function Ca(t,e,a){for(var n=t.next?t.next.e.nodes_start:a,r=e?e.e.nodes_start:a,l=t.e.nodes_start;l!==null&&l!==n;){var s=Xs(l);r.before(l),l=s}}function nt(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function ve(t,e,a=!1,n=!1,r=!1){var l=t,s="";K(()=>{var o=Za;if(s===(s=e()??"")){Le&&ja();return}if(o.nodes_start!==null&&(bi(o.nodes_start,o.nodes_end),o.nodes_start=o.nodes_end=null),s!==""){if(Le){Mt.data;for(var i=ja(),f=i;i!==null&&(i.nodeType!==Ys||i.data!=="");)f=i,i=Xs(i);if(i===null)throw mi(),xi;Is(Mt,f),l=Jr(i);return}var h=s+"";a?h=`<svg>${h}</svg>`:n&&(h=`<math>${h}</math>`);var g=_i(h);if((a||n)&&(g=kr(g)),Is(kr(g),g.lastChild),a||n)for(;kr(g);)l.before(kr(g));else l.before(g)}})}function it(t,e,a){Ae(()=>{var n=p(()=>e(t,a?.())||{});if(a&&n?.update){var r=!1,l={};Wa(()=>{var s=a();U(s),r&&ki(l,s)&&(l=s,n.update(s))}),r=!0}if(n?.destroy)return()=>n.destroy()})}const Os=[...`
\r\fÂ \v\uFEFF`];function Bi(t,e,a){var n=t==null?"":""+t;if(e&&(n=n?n+" "+e:e),a){for(var r in a)if(a[r])n=n?n+" "+r:r;else if(n.length)for(var l=r.length,s=0;(s=n.indexOf(r,s))>=0;){var o=s+l;(s===0||Os.includes(n[s-1]))&&(o===n.length||Os.includes(n[o]))?n=(s===0?"":n.substring(0,s))+n.substring(o+1):s=o}}return n===""?null:n}function Vi(t,e){return t==null?null:String(t)}function fe(t,e,a,n,r,l){var s=t.__className;if(Le||s!==a||s===void 0){var o=Bi(a,n,l);(!Le||o!==t.getAttribute("class"))&&(o==null?t.removeAttribute("class"):t.className=o),t.__className=a}else if(l&&r!==l)for(var i in l){var f=!!l[i];(r==null||f!==!!r[i])&&t.classList.toggle(i,f)}return l}function Ds(t,e,a,n){var r=t.__style;if(Le||r!==e){var l=Vi(e);(!Le||l!==t.getAttribute("style"))&&(l==null?t.removeAttribute("style"):t.style.cssText=l),t.__style=e}return n}function ln(t,e,a=!1){if(t.multiple){if(e==null)return;if(!Ws(e))return yi();for(var n of t.options)n.selected=e.includes(Pr(n));return}for(n of t.options){var r=Pr(n);if(wi(r,e)){n.selected=!0;return}}(!a||e!==void 0)&&(t.selectedIndex=-1)}function qi(t){var e=new MutationObserver(()=>{ln(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Pi(()=>{e.disconnect()})}function js(t,e,a=e){var n=!0;Ha(t,"change",r=>{var l=r?"[selected]":":checked",s;if(t.multiple)s=[].map.call(t.querySelectorAll(l),Pr);else{var o=t.querySelector(l)??t.querySelector("option:not([disabled])");s=o&&Pr(o)}a(s)}),Ae(()=>{var r=e();if(ln(t,r,n),n&&r===void 0){var l=t.querySelector(":checked");l!==null&&(r=Pr(l),a(r))}t.__value=r,n=!1}),qi(t)}function Pr(t){return"__value"in t?t.__value:t.value}const Gi=()=>performance.now(),wt={tick:t=>requestAnimationFrame(t),now:()=>Gi(),tasks:new Set};function on(){const t=wt.now();wt.tasks.forEach(e=>{e.c(t)||(wt.tasks.delete(e),e.f())}),wt.tasks.size!==0&&wt.tick(on)}function Ji(t){let e;return wt.tasks.size===0&&wt.tick(on),{promise:new Promise(a=>{wt.tasks.add(e={c:t,f:a})}),abort(){wt.tasks.delete(e)}}}function Vr(t,e){en(()=>{t.dispatchEvent(new CustomEvent(e))})}function Ui(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function Ms(t){const e={},a=t.split(";");for(const n of a){const[r,l]=n.split(":");if(!r||l===void 0)break;const s=Ui(r.trim());e[s]=l.trim()}return e}const Yi=t=>t;function Zi(t,e,a,n){var r=(t&Ri)!==0,l="both",s,o=e.inert,i=e.style.overflow,f,h;function g(){return en(()=>s??=a()(e,n?.()??{},{direction:l}))}var x={is_global:r,in(){e.inert=o,Vr(e,"introstart"),f=Va(e,g(),h,1,()=>{Vr(e,"introend"),f?.abort(),f=s=void 0,e.style.overflow=i})},out(L){e.inert=!0,Vr(e,"outrostart"),h=Va(e,g(),f,0,()=>{Vr(e,"outroend"),L?.()})},stop:()=>{f?.abort(),h?.abort()}},_=Za;if((_.transitions??=[]).push(x),Si){var m=r;if(!m){for(var P=_.parent;P&&(P.f&Ti)!==0;)for(;(P=P.parent)&&(P.f&Li)===0;);m=!P||(P.f&Ai)!==0}m&&Ae(()=>{p(()=>x.in())})}}function Va(t,e,a,n,r){var l=n===1;if(Ei(e)){var s,o=!1;return Ks(()=>{if(!o){var L=e({direction:l?"in":"out"});s=Va(t,L,a,n,r)}}),{abort:()=>{o=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(a?.deactivate(),!e?.duration)return r(),{abort:br,deactivate:br,reset:br,t:()=>n};const{delay:i=0,css:f,tick:h,easing:g=Yi}=e;var x=[];if(l&&a===void 0&&(h&&h(0,1),f)){var _=Ms(f(0,1));x.push(_,_)}var m=()=>1-n,P=t.animate(x,{duration:i,fill:"forwards"});return P.onfinish=()=>{P.cancel();var L=a?.t()??1-n;a?.abort();var A=n-L,E=e.duration*Math.abs(A),F=[];if(E>0){var O=!1;if(f)for(var C=Math.ceil(E/16.666666666666668),T=0;T<=C;T+=1){var S=L+A*g(T/C),R=Ms(f(S,1-S));F.push(R),O||=R.overflow==="hidden"}O&&(t.style.overflow="hidden"),m=()=>{var z=P.currentTime;return L+A*g(z/E)},h&&Ji(()=>{if(P.playState!=="running")return!1;var z=m();return h(z,1-z),!0})}P=t.animate(F,{duration:E,fill:"forwards"}),P.onfinish=()=>{m=()=>n,h?.(n,1-n),r()}},{abort:()=>{P&&(P.cancel(),P.effect=null,P.onfinish=br)},deactivate:()=>{r=br},reset:()=>{n===0&&h?.(1,0)},t:()=>m()}}function De(t,e,a=e){var n=$i(),r=new WeakSet;Ha(t,"input",l=>{var s=l?t.defaultValue:t.value;if(s=Oa(t)?Da(s):s,a(s),Xt!==null&&r.add(Xt),n&&s!==(s=e())){var o=t.selectionStart,i=t.selectionEnd;t.value=s??"",i!==null&&(t.selectionStart=o,t.selectionEnd=Math.min(i,t.value.length))}}),(Le&&t.defaultValue!==t.value||p(e)==null&&t.value)&&(a(Oa(t)?Da(t.value):t.value),Xt!==null&&r.add(Xt)),Wa(()=>{var l=e();if(t===document.activeElement){var s=zi??Xt;if(r.has(s))return}Oa(t)&&l===Da(t.value)||t.type==="date"&&!l&&!t.value||l!==t.value&&(t.value=l??"")})}function Wi(t,e,a=e){Ha(t,"change",n=>{var r=n?t.defaultChecked:t.checked;a(r)}),(Le&&t.defaultChecked!==t.checked||p(e)==null)&&a(t.checked),Wa(()=>{var n=e();t.checked=!!n})}function Oa(t){var e=t.type;return e==="number"||e==="range"}function Da(t){return t===""?null:+t}function lt(t,e){const{decimalPlaces:a,isPercentage:n=!1}=e;function r(s){let o=s.replace(/,/g,".");o=o.replace(/[^0-9.]/g,"");const i=o.split(".");if(i.length>2&&(o=i[0]+"."+i.slice(1).join("")),o.includes(".")){const f=o.split(".")[1];f&&f.length>a&&(o=o.substring(0,o.indexOf(".")+a+1))}return o}function l(s){const o=s.target,i=o.selectionStart,f=o.selectionEnd,h=o.value,g=r(h);if(g!==h){o.value=g;const x=g.length-h.length;i!==null&&f!==null&&o.setSelectionRange(i+x,f+x),t.dispatchEvent(new Event("input",{bubbles:!0}))}}return t.addEventListener("input",l),{update(s){e=s},destroy(){t.removeEventListener("input",l)}}}var Hi=te('<div><h2 class="section-header" id="trade-type-label"> </h2> <div class="grid grid-cols-1 gap-4 mb-4"><div class="trade-type-switch p-1 rounded-lg flex" role="radiogroup" aria-labelledby="trade-type-label"><button role="radio"> </button> <button role="radio"> </button></div> <div class="grid grid-cols-2 gap-4"><input type="text" inputmode="decimal" class="input-field w-full h-full px-4 py-2 rounded-md"/> <input type="text" inputmode="decimal" class="input-field w-full px-4 py-2 rounded-md"/></div></div></div>');function Ki(t,e){ct(e,!1);const[a,n]=dt(),r=()=>je(et,"$_",a);let l=W(e,"tradeType",8),s=W(e,"leverage",12),o=W(e,"fees",12);function i(S){ue(R=>({...R,tradeType:S}))}ot();var f=Hi(),h=u(f),g=u(h,!0);c(h);var x=v(h,2),_=u(x),m=u(_);let P;var L=u(m,!0);c(m);var A=v(m,2);let E;var F=u(A,!0);c(A),c(_);var O=v(_,2),C=u(O);Oe(C),it(C,(S,R)=>lt?.(S,R),()=>({decimalPlaces:4})),Ae(()=>De(C,s));var T=v(C,2);Oe(T),it(T,(S,R)=>lt?.(S,R),()=>({decimalPlaces:2,isPercentage:!0})),Ae(()=>De(T,o)),c(O),c(x),c(f),K((S,R,z,N,D,V,X)=>{b(g,S),P=fe(m,1,"long w-1/2",null,P,R),j(m,"aria-checked",(U(l()),U(I),p(()=>l()===I.TRADE_TYPE_LONG))),b(L,z),E=fe(A,1,"short w-1/2",null,E,N),j(A,"aria-checked",(U(l()),U(I),p(()=>l()===I.TRADE_TYPE_SHORT))),b(F,D),j(C,"placeholder",V),j(T,"placeholder",X)},[()=>(r(),p(()=>r()("dashboard.generalInputs.header"))),()=>({active:l()===I.TRADE_TYPE_LONG}),()=>(r(),p(()=>r()("dashboard.generalInputs.longButton"))),()=>({active:l()===I.TRADE_TYPE_SHORT}),()=>(r(),p(()=>r()("dashboard.generalInputs.shortButton"))),()=>(r(),p(()=>r()("dashboard.generalInputs.leveragePlaceholder"))),()=>(r(),p(()=>r()("dashboard.generalInputs.feesPlaceholder")))]),B("click",m,()=>i(I.TRADE_TYPE_LONG)),B("click",A,()=>i(I.TRADE_TYPE_SHORT)),Y(t,f),ut(),n()}var Qi=te('<div><h2 class="section-header !mt-6"> </h2> <div class="grid grid-cols-2 gap-4"><input type="text" inputmode="decimal" class="input-field w-full px-4 py-2 rounded-md"/> <input type="text" inputmode="decimal" class="input-field w-full px-4 py-2 rounded-md"/></div></div>');function Xi(t,e){ct(e,!1);const[a,n]=dt(),r=()=>je(et,"$_",a);let l=W(e,"accountSize",12),s=W(e,"riskPercentage",12);ot();var o=Qi(),i=u(o),f=u(i,!0);c(i);var h=v(i,2),g=u(h);Oe(g),it(g,(_,m)=>lt?.(_,m),()=>({decimalPlaces:4})),Ae(()=>De(g,l));var x=v(g,2);Oe(x),it(x,(_,m)=>lt?.(_,m),()=>({decimalPlaces:2,isPercentage:!0})),Ae(()=>De(x,s)),c(h),c(o),K((_,m,P)=>{b(f,_),j(g,"placeholder",m),j(x,"placeholder",P)},[()=>(r(),p(()=>r()("dashboard.portfolioInputs.header"))),()=>(r(),p(()=>r()("dashboard.portfolioInputs.accountSizePlaceholder"))),()=>(r(),p(()=>r()("dashboard.portfolioInputs.riskPerTradePlaceholder")))]),Y(t,o),ut(),n()}function el(t,e){let a;return function(...n){const r=this;clearTimeout(a),a=setTimeout(()=>t.apply(r,n),e)}}function J(t){if(t==null||t==="")return new w(0);const e=String(t).replace(",",".");return isNaN(e)||e.trim()===""?new w(0):new w(e)}var tl=te('<div class="suggestion-item p-2 cursor-pointer hover:bg-[var(--accent-color)] hover:text-white" role="button" tabindex="0"> </div>'),rl=te('<div class="absolute top-full left-0 w-full rounded-md shadow-lg mt-1 overflow-hidden border border-[var(--border-color)] z-20 bg-[var(--bg-secondary)]"></div>'),al=te('<div><input type="text" inputmode="decimal" class="input-field w-full px-4 py-2 rounded-md"/></div>'),sl=te('<div class="text-center text-xs text-sky-300 mt-2"> </div>'),nl=te('<div class="grid grid-cols-2 gap-2"><input type="text" inputmode="decimal" class="input-field w-full px-4 py-2 rounded-md"/> <input type="text" inputmode="decimal" class="input-field w-full px-4 py-2 rounded-md"/></div> <!>',1),il=te(`<div><h2 class="section-header"> </h2> <div class="relative mb-4 symbol-input-container"><input type="text" class="input-field w-full px-4 py-2 rounded-md pr-10" autocomplete="off"/> <button type="button"><!></button> <!></div> <input type="text" inputmode="decimal" class="input-field w-full px-4 py-2 rounded-md mb-4"/> <div class="p-2 rounded-lg mb-4" style="background-color: var(--bg-tertiary);"><div class="flex justify-end mb-2"><label class="flex items-center cursor-pointer"><span class="mr-2 text-sm"> </span> <input type="checkbox" class="sr-only peer" role="switch"/> <div class="atr-toggle-track relative w-11 h-6 peer-focus:outline-none rounded-full peer after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:border after:rounded-full after:h-5 after:w-5"></div></label></div> <!></div></div>`);function ll(t,e){ct(e,!1);const[a,n]=dt(),r=()=>je(et,"$_",a),l=Qr();let s=W(e,"symbol",12),o=W(e,"entryPrice",12),i=W(e,"useAtrSl",12),f=W(e,"atrValue",12),h=W(e,"atrMultiplier",12),g=W(e,"stopLossPrice",12),x=W(e,"atrFormulaDisplay",8),_=W(e,"showAtrFormulaDisplay",8),m=W(e,"isPriceFetching",8),P=W(e,"symbolSuggestions",8),L=W(e,"showSymbolSuggestions",8);function A(){l("toggleAtrInputs",!i())}function E(){l("fetchPrice")}const F=el(()=>{const se=s().toUpperCase().replace("/","");let le=[];se&&(le=I.SUGGESTED_SYMBOLS.filter(de=>de.startsWith(se))),l("updateSymbolSuggestions",le)},200);function O(se){l("selectSymbolSuggestion",se)}function C(se,le){se.key==="Enter"&&O(le)}function T(se){se.target.closest(".symbol-input-container")||l("updateSymbolSuggestions",[])}ot();var S=il();B("click",Ii,T);var R=u(S),z=u(R,!0);c(R);var N=v(R,2),D=u(N);Oe(D);var V=v(D,2),X=u(V);ve(X,()=>(U(H),p(()=>H.fetch))),c(V);var ce=v(V,2);{var G=se=>{var le=rl();Ft(le,5,P,It,(de,pe)=>{var he=tl(),Ke=u(he,!0);c(he),K(()=>b(Ke,d(pe))),B("click",he,()=>O(d(pe))),B("keydown",he,pt=>C(pt,d(pe))),Y(de,he)}),c(le),Y(se,le)};ye(ce,se=>{L()&&se(G)})}c(N);var q=v(N,2);Oe(q),it(q,(se,le)=>lt?.(se,le),()=>({decimalPlaces:4})),Ae(()=>De(q,o));var re=v(q,2),$=u(re),ee=u($),xe=u(ee),Ee=u(xe,!0);c(xe);var we=v(xe,2);Oe(we),Fi(2),c(ee),c($);var _e=v($,2);{var Tt=se=>{var le=al(),de=u(le);Oe(de),it(de,(pe,he)=>lt?.(pe,he),()=>({decimalPlaces:4})),Ae(()=>De(de,g)),c(le),K(pe=>j(de,"placeholder",pe),[()=>(r(),p(()=>r()("dashboard.tradeSetupInputs.manualStopLossPlaceholder")))]),Y(se,le)},He=se=>{var le=nl(),de=Ct(le),pe=u(de);Oe(pe),it(pe,(Pe,$e)=>lt?.(Pe,$e),()=>({decimalPlaces:4})),Ae(()=>De(pe,f));var he=v(pe,2);Oe(he),it(he,(Pe,$e)=>lt?.(Pe,$e),()=>({decimalPlaces:4})),Ae(()=>De(he,h)),c(de);var Ke=v(de,2);{var pt=Pe=>{var $e=sl(),Vt=u($e,!0);c($e),K(()=>b(Vt,x())),Y(Pe,$e)};ye(Ke,Pe=>{_()&&Pe(pt)})}K((Pe,$e)=>{j(pe,"placeholder",Pe),j(he,"placeholder",$e)},[()=>(r(),p(()=>r()("dashboard.tradeSetupInputs.atrValuePlaceholder"))),()=>(r(),p(()=>r()("dashboard.tradeSetupInputs.multiplierPlaceholder")))]),Y(se,le)};ye(_e,se=>{i()?se(He,!1):se(Tt)})}c(re),c(S),K((se,le,de,pe,he,Ke)=>{b(z,se),j(D,"placeholder",le),fe(V,1,`price-fetch-btn absolute top-1/2 right-2 -translate-y-1/2 ${m()?"animate-spin":""}`),j(V,"title",de),j(V,"aria-label",pe),j(q,"placeholder",he),b(Ee,Ke),j(we,"aria-checked",i())},[()=>(r(),p(()=>r()("dashboard.tradeSetupInputs.header"))),()=>(r(),p(()=>r()("dashboard.tradeSetupInputs.symbolPlaceholder"))),()=>(r(),p(()=>r()("dashboard.tradeSetupInputs.fetchPriceTitle"))),()=>(r(),p(()=>r()("dashboard.tradeSetupInputs.fetchPriceAriaLabel"))),()=>(r(),p(()=>r()("dashboard.tradeSetupInputs.entryPricePlaceholder"))),()=>(r(),p(()=>r()("dashboard.tradeSetupInputs.atrStopLossLabel")))]),De(D,s),B("input",D,F),B("click",V,E),Wi(we,i),B("change",we,A),Y(t,S),ut(),n()}var ol=te('<div class="text-xs text-slate-500 text-right"><span class="mr-2"> <span class="text-green-400"> </span></span> <span> <span> </span></span></div>'),cl=te('<div class="tp-row flex items-center gap-2 p-2 rounded-lg" style="background-color: var(--bg-tertiary);"><div class="flex-grow"><div class="flex justify-between items-center mb-1"><label class="tp-label text-xs text-slate-400"> </label> <!></div> <div class="grid grid-cols-2 gap-2"><input type="text" inputmode="decimal" class="tp-price input-field w-full px-4 py-2 rounded-md"/> <input type="text" inputmode="decimal" placeholder="%"/></div></div> <button class="lock-tp-btn btn-lock-icon p-1 self-center" tabindex="-1"><!></button> <button class="remove-tp-btn text-red-500 hover:text-red-400 p-1 self-center" tabindex="-1"><!></button></div>');function ul(t,e){ct(e,!1);const[a,n]=dt(),r=()=>je(et,"$_",a),l=Qr();let s=W(e,"index",8),o=W(e,"price",12),i=W(e,"percent",12),f=W(e,"isLocked",8),h=W(e,"tpDetail",8,void 0);function g(){l("lockToggle",{index:s(),isLocked:!f()})}function x(){l("remove",s())}function _(){l("input",{index:s(),price:o(),percent:i(),isLocked:f()})}ot();var m=cl(),P=u(m),L=u(P),A=u(L),E=u(A);c(A);var F=v(A,2);{var O=G=>{var q=ol(),re=u(q),$=u(re),ee=v($),xe=u(ee);c(ee),c(re);var Ee=v(re,2),we=u(Ee),_e=v(we),Tt=u(_e,!0);c(_e),c(Ee),c(q),K((He,se,le,de,pe)=>{b($,`${He??""} `),b(xe,`+$${se??""}`),b(we,`${le??""} `),fe(_e,1,de),b(Tt,pe)},[()=>(r(),p(()=>r()("dashboard.takeProfitRow.winLabel"))),()=>(U(h()),p(()=>h().netProfit.toFixed(2))),()=>(r(),p(()=>r()("dashboard.takeProfitRow.rrLabel"))),()=>(U(h()),p(()=>h().riskRewardRatio.gte(2)?"text-green-400":h().riskRewardRatio.gte(1.5)?"text-yellow-400":"text-red-400")),()=>(U(h()),p(()=>h().riskRewardRatio.toFixed(2)))]),Y(G,q)};ye(F,G=>{h()&&G(O)})}c(L);var C=v(L,2),T=u(C);Oe(T),it(T,(G,q)=>lt?.(G,q),()=>({decimalPlaces:4})),Ae(()=>De(T,o)),Ae(()=>B("input",T,_));var S=v(T,2);Oe(S);let R;it(S,(G,q)=>lt?.(G,q),()=>({decimalPlaces:2,isPercentage:!0})),Ae(()=>De(S,i)),Ae(()=>B("input",S,_)),c(C),c(P);var z=v(P,2),N=u(z);{var D=G=>{var q=Tr(),re=Ct(q);ve(re,()=>(U(H),p(()=>H.lockClosed))),Y(G,q)},V=G=>{var q=Tr(),re=Ct(q);ve(re,()=>(U(H),p(()=>H.lockOpen))),Y(G,q)};ye(N,G=>{f()?G(D):G(V,!1)})}c(z);var X=v(z,2),ce=u(X);ve(ce,()=>(U(H),p(()=>H.remove))),c(X),c(m),K((G,q,re,$)=>{j(A,"for",`tp-price-${s()??""}`),b(E,`TP ${s()+1}`),j(T,"placeholder",G),j(T,"id",`tp-price-${s()??""}`),R=fe(S,1,"tp-percent input-field w-full px-4 py-2 rounded-md",null,R,q),S.disabled=f(),j(S,"id",`tp-percent-${s()??""}`),j(z,"title",re),j(X,"title",$)},[()=>(r(),p(()=>r()("dashboard.takeProfitRow.pricePlaceholder"))),()=>({"locked-input":f()}),()=>(r(),p(()=>r()("dashboard.takeProfitRow.lockButtonTitle"))),()=>(r(),p(()=>r()("dashboard.takeProfitRow.removeButtonTitle")))]),B("click",z,g),B("click",X,x),Y(t,m),ut(),n()}const dl={async fetchBinancePrice(t){const e=await fetch(`https://api.binance.com/api/v3/ticker/price?symbol=${t}`);if(!e.ok)throw new Error(`Symbol nicht gefunden oder API-Fehler (${e.status})`);const a=await e.json();return new w(a.price)}},qr=tn({title:"",message:"",type:"alert",defaultValue:"",isOpen:!1,resolve:null}),zt={show(t,e,a,n=""){return new Promise(r=>{qr.set({title:t,message:e,type:a,defaultValue:n,isOpen:!0,resolve:r})})},_handleModalConfirm(t){const e=We(qr);e.resolve&&e.resolve(t),qr.set({...e,isOpen:!1,resolve:null})},subscribe:qr.subscribe},mr={calculateBaseMetrics(t,e){const a=t.accountSize.times(t.riskPercentage.div(100)),n=t.entryPrice.minus(t.stopLossPrice).abs();if(n.isZero())return null;const r=a.div(n),l=r.times(t.entryPrice),s=t.leverage.gt(0)?l.div(t.leverage):l,o=l.times(t.fees.div(100)),i=r.times(t.stopLossPrice).times(t.fees.div(100)),f=a.plus(o).plus(i),h=t.fees.div(100),g=e===I.TRADE_TYPE_LONG?t.entryPrice.times(h.plus(1)).div(new w(1).minus(h)):t.entryPrice.times(new w(1).minus(h)).div(h.plus(1)),x=t.leverage.gt(0)?e===I.TRADE_TYPE_LONG?t.entryPrice.times(new w(1).minus(new w(1).div(t.leverage))):t.entryPrice.times(new w(1).plus(new w(1).div(t.leverage))):new w(0);return{positionSize:r,requiredMargin:s,netLoss:f,breakEvenPrice:g,liquidationPrice:x,entryFee:o,riskAmount:a}},calculateIndividualTp(t,e,a,n,r){const{positionSize:l,requiredMargin:s,riskAmount:o}=a,i=t.minus(n.entryPrice).abs(),f=l.times(e.div(100)),h=i.times(f),g=f.times(t).times(n.fees.div(100)),x=f.times(n.entryPrice).times(n.fees.div(100)),_=h.minus(x).minus(g),m=o.times(e.div(100)),P=m.gt(0)?_.div(m):new w(0),L=n.entryPrice.gt(0)?t.minus(n.entryPrice).div(n.entryPrice).times(100):new w(0),A=s.gt(0)&&e.gt(0)?_.div(s.times(e.div(100))).times(100):new w(0);return{netProfit:_,riskRewardRatio:P,priceChangePercent:L,returnOnCapital:A,partialVolume:f,index:r,percentSold:new w(0)}},calculateTotalMetrics(t,e,a,n){const{positionSize:r,entryFee:l,riskAmount:s}=e;let o=new w(0),i=new w(0),f=new w(0);t.forEach((_,m)=>{if(_.price.gt(0)&&_.percent.gt(0)){const{netProfit:P,riskRewardRatio:L}=this.calculateIndividualTp(_.price,_.percent,e,a,m);o=o.plus(P);const A=r.times(_.percent.div(100)).times(a.entryPrice).times(a.fees.div(100)),E=r.times(_.percent.div(100)).times(_.price).times(a.fees.div(100));f=f.plus(A).plus(E),i=i.plus(L.times(_.percent.div(100)))}});const h=t.filter(_=>_.price.gt(0)).map(_=>_.price);let g=new w(0);if(h.length>0){const _=n===I.TRADE_TYPE_LONG?w.max(...h):w.min(...h),P=_.minus(a.entryPrice).abs().times(r),L=r.times(_).times(a.fees.div(100));g=P.minus(l).minus(L)}const x=a.totalPercentSold.gt(0)?i.div(a.totalPercentSold.div(100)):new w(0);return{totalNetProfit:o,totalRR:x,totalFees:f,maxPotentialProfit:g,riskAmount:s}},calculatePerformanceStats(t){const e=t.filter($=>$.status==="Won"||$.status==="Lost");if(e.length===0)return null;const a=[...e].sort(($,ee)=>new Date($.date).getTime()-new Date(ee.date).getTime()),n=e.filter($=>$.status==="Won"),r=e.filter($=>$.status==="Lost"),l=e.length,s=l>0?n.length/l*100:0,o=n.reduce(($,ee)=>$.plus(new w(ee.totalNetProfit||0)),new w(0)),i=r.reduce(($,ee)=>$.plus(new w(ee.riskAmount||0)),new w(0)),f=i.gt(0)?o.dividedBy(i):o.gt(0)?new w(1/0):new w(0),h=l>0?e.reduce(($,ee)=>$.plus(new w(ee.totalRR||0)),new w(0)).dividedBy(l):new w(0),g=n.length>0?o.dividedBy(n.length):new w(0),x=r.length>0?i.dividedBy(r.length):new w(0),_=x.gt(0)?g.dividedBy(x):new w(0),m=n.length>0?w.max(0,...n.map($=>new w($.totalNetProfit||0))):new w(0),P=r.length>0?w.max(0,...r.map($=>new w($.riskAmount||0))):new w(0);let L=new w(0),A=0;e.forEach($=>{if($.riskAmount&&new w($.riskAmount).gt(0)){const ee=$.status==="Won"?new w($.totalNetProfit||0).dividedBy(new w($.riskAmount)):new w(-1);L=L.plus(ee),A++}});const E=A>0?L.dividedBy(A):new w(0);let F=new w(0),O=new w(0),C=new w(0);a.forEach($=>{F=$.status==="Won"?F.plus(new w($.totalNetProfit||0)):F.minus(new w($.riskAmount||0)),F.gt(O)&&(O=F);const ee=O.minus(F);ee.gt(C)&&(C=ee)});const T=C.gt(0)?F.dividedBy(C):new w(0),S=l>0?r.length/l*100:0,R=new w(s/100).times(g).minus(new w(S/100).times(x));let z=new w(0),N=new w(0),D=new w(0),V=new w(0);e.forEach($=>{$.tradeType===I.TRADE_TYPE_LONG?$.status==="Won"?z=z.plus(new w($.totalNetProfit||0)):N=N.plus(new w($.riskAmount||0)):$.status==="Won"?D=D.plus(new w($.totalNetProfit||0)):V=V.plus(new w($.riskAmount||0))});let X=0,ce=0,G=0,q=0,re="N/A";if(a.forEach($=>{$.status==="Won"?(ce++,q=0,ce>X&&(X=ce)):(q++,ce=0,q>G&&(G=q))}),a.length>0){const $=a[a.length-1].status==="Won";let ee=0;for(let xe=a.length-1;xe>=0&&($&&a[xe].status==="Won"||!$&&a[xe].status==="Lost");xe--)ee++;re=`${$?"W":"L"}${ee}`}return{totalTrades:l,winRate:s,profitFactor:f,expectancy:R,avgRMultiple:E,avgRR:h,avgWin:g,avgLossOnly:x,winLossRatio:_,largestProfit:m,largestLoss:P,maxDrawdown:C,recoveryFactor:T,currentStreakText:re,longestWinningStreak:X,longestLosingStreak:G,totalProfitLong:z,totalLossLong:N,totalProfitShort:D,totalLossShort:V}},calculateSymbolPerformance(t){const e=t.filter(n=>n.status==="Won"||n.status==="Lost"),a={};return e.forEach(n=>{n.symbol&&(a[n.symbol]||(a[n.symbol]={totalTrades:0,wonTrades:0,totalProfitLoss:new w(0)}),a[n.symbol].totalTrades++,n.status==="Won"?(a[n.symbol].wonTrades++,a[n.symbol].totalProfitLoss=a[n.symbol].totalProfitLoss.plus(new w(n.totalNetProfit||0))):a[n.symbol].totalProfitLoss=a[n.symbol].totalProfitLoss.minus(new w(n.riskAmount||0)))}),a}};function Ka(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Bt=Ka();function cn(t){Bt=t}var Sr={exec:()=>null};function ne(t,e=""){let a=typeof t=="string"?t:t.source,n={replace:(r,l)=>{let s=typeof l=="string"?l:l.source;return s=s.replace(Re.caret,"$1"),a=a.replace(r,s),n},getRegex:()=>new RegExp(a,e)};return n}var Re={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},pl=/^(?:[ \t]*(?:\n|$))+/,hl=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,vl=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Lr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,fl=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Qa=/(?:[*+-]|\d{1,9}[.)])/,un=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,dn=ne(un).replace(/bull/g,Qa).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),gl=ne(un).replace(/bull/g,Qa).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Xa=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,bl=/^[^\n]+/,es=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ml=ne(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",es).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),xl=ne(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Qa).getRegex(),Xr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ts=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,_l=ne("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",ts).replace("tag",Xr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),pn=ne(Xa).replace("hr",Lr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xr).getRegex(),kl=ne(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",pn).getRegex(),rs={blockquote:kl,code:hl,def:ml,fences:vl,heading:fl,hr:Lr,html:_l,lheading:dn,list:xl,newline:pl,paragraph:pn,table:Sr,text:bl},Ns=ne("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Lr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xr).getRegex(),yl={...rs,lheading:gl,table:Ns,paragraph:ne(Xa).replace("hr",Lr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ns).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xr).getRegex()},wl={...rs,html:ne(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ts).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Sr,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ne(Xa).replace("hr",Lr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",dn).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Pl=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Sl=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,hn=/^( {2,}|\\)\n(?!\s*$)/,Tl=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ea=/[\p{P}\p{S}]/u,as=/[\s\p{P}\p{S}]/u,vn=/[^\s\p{P}\p{S}]/u,Ll=ne(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,as).getRegex(),fn=/(?!~)[\p{P}\p{S}]/u,Al=/(?!~)[\s\p{P}\p{S}]/u,Rl=/(?:[^\s\p{P}\p{S}]|~)/u,El=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,gn=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,$l=ne(gn,"u").replace(/punct/g,ea).getRegex(),zl=ne(gn,"u").replace(/punct/g,fn).getRegex(),bn="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Il=ne(bn,"gu").replace(/notPunctSpace/g,vn).replace(/punctSpace/g,as).replace(/punct/g,ea).getRegex(),Fl=ne(bn,"gu").replace(/notPunctSpace/g,Rl).replace(/punctSpace/g,Al).replace(/punct/g,fn).getRegex(),Cl=ne("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,vn).replace(/punctSpace/g,as).replace(/punct/g,ea).getRegex(),Ol=ne(/\\(punct)/,"gu").replace(/punct/g,ea).getRegex(),Dl=ne(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),jl=ne(ts).replace("(?:-->|$)","-->").getRegex(),Ml=ne("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",jl).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Yr=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Nl=ne(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Yr).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),mn=ne(/^!?\[(label)\]\[(ref)\]/).replace("label",Yr).replace("ref",es).getRegex(),xn=ne(/^!?\[(ref)\](?:\[\])?/).replace("ref",es).getRegex(),Bl=ne("reflink|nolink(?!\\()","g").replace("reflink",mn).replace("nolink",xn).getRegex(),ss={_backpedal:Sr,anyPunctuation:Ol,autolink:Dl,blockSkip:El,br:hn,code:Sl,del:Sr,emStrongLDelim:$l,emStrongRDelimAst:Il,emStrongRDelimUnd:Cl,escape:Pl,link:Nl,nolink:xn,punctuation:Ll,reflink:mn,reflinkSearch:Bl,tag:Ml,text:Tl,url:Sr},Vl={...ss,link:ne(/^!?\[(label)\]\((.*?)\)/).replace("label",Yr).getRegex(),reflink:ne(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Yr).getRegex()},qa={...ss,emStrongRDelimAst:Fl,emStrongLDelim:zl,url:ne(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ql={...qa,br:ne(hn).replace("{2,}","*").getRegex(),text:ne(qa.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Gr={normal:rs,gfm:yl,pedantic:wl},xr={normal:ss,gfm:qa,breaks:ql,pedantic:Vl},Gl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Bs=t=>Gl[t];function st(t,e){if(e){if(Re.escapeTest.test(t))return t.replace(Re.escapeReplace,Bs)}else if(Re.escapeTestNoEncode.test(t))return t.replace(Re.escapeReplaceNoEncode,Bs);return t}function Vs(t){try{t=encodeURI(t).replace(Re.percentDecode,"%")}catch{return null}return t}function qs(t,e){let a=t.replace(Re.findPipe,(l,s,o)=>{let i=!1,f=s;for(;--f>=0&&o[f]==="\\";)i=!i;return i?"|":" |"}),n=a.split(Re.splitPipe),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(Re.slashPipe,"|");return n}function _r(t,e,a){let n=t.length;if(n===0)return"";let r=0;for(;r<n&&t.charAt(n-r-1)===e;)r++;return t.slice(0,n-r)}function Jl(t,e){if(t.indexOf(e[1])===-1)return-1;let a=0;for(let n=0;n<t.length;n++)if(t[n]==="\\")n++;else if(t[n]===e[0])a++;else if(t[n]===e[1]&&(a--,a<0))return n;return a>0?-2:-1}function Gs(t,e,a,n,r){let l=e.href,s=e.title||null,o=t[1].replace(r.other.outputLinkReplace,"$1");n.state.inLink=!0;let i={type:t[0].charAt(0)==="!"?"image":"link",raw:a,href:l,title:s,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,i}function Ul(t,e,a){let n=t.match(a.other.indentCodeCompensation);if(n===null)return e;let r=n[1];return e.split(`
`).map(l=>{let s=l.match(a.other.beginningSpace);if(s===null)return l;let[o]=s;return o.length>=r.length?l.slice(r.length):l}).join(`
`)}var Zr=class{options;rules;lexer;constructor(t){this.options=t||Bt}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let a=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?a:_r(a,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let a=e[0],n=Ul(a,e[3]||"",this.rules);return{type:"code",raw:a,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let a=e[2].trim();if(this.rules.other.endingHash.test(a)){let n=_r(a,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(a=n.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:a,tokens:this.lexer.inline(a)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:_r(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let a=_r(e[0],`
`).split(`
`),n="",r="",l=[];for(;a.length>0;){let s=!1,o=[],i;for(i=0;i<a.length;i++)if(this.rules.other.blockquoteStart.test(a[i]))o.push(a[i]),s=!0;else if(!s)o.push(a[i]);else break;a=a.slice(i);let f=o.join(`
`),h=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${f}`:f,r=r?`${r}
${h}`:h;let g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,l,!0),this.lexer.state.top=g,a.length===0)break;let x=l.at(-1);if(x?.type==="code")break;if(x?.type==="blockquote"){let _=x,m=_.raw+`
`+a.join(`
`),P=this.blockquote(m);l[l.length-1]=P,n=n.substring(0,n.length-_.raw.length)+P.raw,r=r.substring(0,r.length-_.text.length)+P.text;break}else if(x?.type==="list"){let _=x,m=_.raw+`
`+a.join(`
`),P=this.list(m);l[l.length-1]=P,n=n.substring(0,n.length-x.raw.length)+P.raw,r=r.substring(0,r.length-_.raw.length)+P.raw,a=m.substring(l.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:l,text:r}}}list(t){let e=this.rules.block.list.exec(t);if(e){let a=e[1].trim(),n=a.length>1,r={type:"list",raw:"",ordered:n,start:n?+a.slice(0,-1):"",loose:!1,items:[]};a=n?`\\d{1,9}\\${a.slice(-1)}`:`\\${a}`,this.options.pedantic&&(a=n?a:"[*+-]");let l=this.rules.other.listItemRegex(a),s=!1;for(;t;){let i=!1,f="",h="";if(!(e=l.exec(t))||this.rules.block.hr.test(t))break;f=e[0],t=t.substring(f.length);let g=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,A=>" ".repeat(3*A.length)),x=t.split(`
`,1)[0],_=!g.trim(),m=0;if(this.options.pedantic?(m=2,h=g.trimStart()):_?m=e[1].length+1:(m=e[2].search(this.rules.other.nonSpaceChar),m=m>4?1:m,h=g.slice(m),m+=e[1].length),_&&this.rules.other.blankLine.test(x)&&(f+=x+`
`,t=t.substring(x.length+1),i=!0),!i){let A=this.rules.other.nextBulletRegex(m),E=this.rules.other.hrRegex(m),F=this.rules.other.fencesBeginRegex(m),O=this.rules.other.headingBeginRegex(m),C=this.rules.other.htmlBeginRegex(m);for(;t;){let T=t.split(`
`,1)[0],S;if(x=T,this.options.pedantic?(x=x.replace(this.rules.other.listReplaceNesting,"  "),S=x):S=x.replace(this.rules.other.tabCharGlobal,"    "),F.test(x)||O.test(x)||C.test(x)||A.test(x)||E.test(x))break;if(S.search(this.rules.other.nonSpaceChar)>=m||!x.trim())h+=`
`+S.slice(m);else{if(_||g.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||F.test(g)||O.test(g)||E.test(g))break;h+=`
`+x}!_&&!x.trim()&&(_=!0),f+=T+`
`,t=t.substring(T.length+1),g=S.slice(m)}}r.loose||(s?r.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(s=!0));let P=null,L;this.options.gfm&&(P=this.rules.other.listIsTask.exec(h),P&&(L=P[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),r.items.push({type:"list_item",raw:f,task:!!P,checked:L,loose:!1,text:h,tokens:[]}),r.raw+=f}let o=r.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;r.raw=r.raw.trimEnd();for(let i=0;i<r.items.length;i++)if(this.lexer.state.top=!1,r.items[i].tokens=this.lexer.blockTokens(r.items[i].text,[]),!r.loose){let f=r.items[i].tokens.filter(g=>g.type==="space"),h=f.length>0&&f.some(g=>this.rules.other.anyLine.test(g.raw));r.loose=h}if(r.loose)for(let i=0;i<r.items.length;i++)r.items[i].loose=!0;return r}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let a=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:a,raw:e[0],href:n,title:r}}}table(t){let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let a=qs(e[1]),n=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],l={type:"table",raw:e[0],header:[],align:[],rows:[]};if(a.length===n.length){for(let s of n)this.rules.other.tableAlignRight.test(s)?l.align.push("right"):this.rules.other.tableAlignCenter.test(s)?l.align.push("center"):this.rules.other.tableAlignLeft.test(s)?l.align.push("left"):l.align.push(null);for(let s=0;s<a.length;s++)l.header.push({text:a[s],tokens:this.lexer.inline(a[s]),header:!0,align:l.align[s]});for(let s of r)l.rows.push(qs(s,l.header.length).map((o,i)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:l.align[i]})));return l}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let a=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:a,tokens:this.lexer.inline(a)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let a=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(a)){if(!this.rules.other.endAngleBracket.test(a))return;let l=_r(a.slice(0,-1),"\\");if((a.length-l.length)%2===0)return}else{let l=Jl(e[2],"()");if(l===-2)return;if(l>-1){let s=(e[0].indexOf("!")===0?5:4)+e[1].length+l;e[2]=e[2].substring(0,l),e[0]=e[0].substring(0,s).trim(),e[3]=""}}let n=e[2],r="";if(this.options.pedantic){let l=this.rules.other.pedanticHrefTitle.exec(n);l&&(n=l[1],r=l[3])}else r=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(a)?n=n.slice(1):n=n.slice(1,-1)),Gs(e,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let a;if((a=this.rules.inline.reflink.exec(t))||(a=this.rules.inline.nolink.exec(t))){let n=(a[2]||a[1]).replace(this.rules.other.multipleSpaceGlobal," "),r=e[n.toLowerCase()];if(!r){let l=a[0].charAt(0);return{type:"text",raw:l,text:l}}return Gs(a,r,a[0],this.lexer,this.rules)}}emStrong(t,e,a=""){let n=this.rules.inline.emStrongLDelim.exec(t);if(!(!n||n[3]&&a.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!a||this.rules.inline.punctuation.exec(a))){let r=[...n[0]].length-1,l,s,o=r,i=0,f=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,e=e.slice(-1*t.length+r);(n=f.exec(e))!=null;){if(l=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!l)continue;if(s=[...l].length,n[3]||n[4]){o+=s;continue}else if((n[5]||n[6])&&r%3&&!((r+s)%3)){i+=s;continue}if(o-=s,o>0)continue;s=Math.min(s,s+o+i);let h=[...n[0]][0].length,g=t.slice(0,r+n.index+h+s);if(Math.min(r,s)%2){let _=g.slice(1,-1);return{type:"em",raw:g,text:_,tokens:this.lexer.inlineTokens(_)}}let x=g.slice(2,-2);return{type:"strong",raw:g,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let a=e[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(a),r=this.rules.other.startingSpaceChar.test(a)&&this.rules.other.endingSpaceChar.test(a);return n&&r&&(a=a.substring(1,a.length-1)),{type:"codespan",raw:e[0],text:a}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let a,n;return e[2]==="@"?(a=e[1],n="mailto:"+a):(a=e[1],n=a),{type:"link",raw:e[0],text:a,href:n,tokens:[{type:"text",raw:a,text:a}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let a,n;if(e[2]==="@")a=e[0],n="mailto:"+a;else{let r;do r=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(r!==e[0]);a=e[0],e[1]==="www."?n="http://"+e[0]:n=e[0]}return{type:"link",raw:e[0],text:a,href:n,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let a=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:a}}}},Pt=class Ga{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Bt,this.options.tokenizer=this.options.tokenizer||new Zr,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let a={other:Re,block:Gr.normal,inline:xr.normal};this.options.pedantic?(a.block=Gr.pedantic,a.inline=xr.pedantic):this.options.gfm&&(a.block=Gr.gfm,this.options.breaks?a.inline=xr.breaks:a.inline=xr.gfm),this.tokenizer.rules=a}static get rules(){return{block:Gr,inline:xr}}static lex(e,a){return new Ga(a).lex(e)}static lexInline(e,a){return new Ga(a).inlineTokens(e)}lex(e){e=e.replace(Re.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let a=0;a<this.inlineQueue.length;a++){let n=this.inlineQueue[a];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,a=[],n=!1){for(this.options.pedantic&&(e=e.replace(Re.tabCharGlobal,"    ").replace(Re.spaceLine,""));e;){let r;if(this.options.extensions?.block?.some(s=>(r=s.call({lexer:this},e,a))?(e=e.substring(r.raw.length),a.push(r),!0):!1))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);let s=a.at(-1);r.raw.length===1&&s!==void 0?s.raw+=`
`:a.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);let s=a.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+r.raw,s.text+=`
`+r.text,this.inlineQueue.at(-1).src=s.text):a.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),a.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),a.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),a.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),a.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),a.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),a.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);let s=a.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+r.raw,s.text+=`
`+r.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},a.push(r));continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),a.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),a.push(r);continue}let l=e;if(this.options.extensions?.startBlock){let s=1/0,o=e.slice(1),i;this.options.extensions.startBlock.forEach(f=>{i=f.call({lexer:this},o),typeof i=="number"&&i>=0&&(s=Math.min(s,i))}),s<1/0&&s>=0&&(l=e.substring(0,s+1))}if(this.state.top&&(r=this.tokenizer.paragraph(l))){let s=a.at(-1);n&&s?.type==="paragraph"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):a.push(r),n=l.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);let s=a.at(-1);s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):a.push(r);continue}if(e){let s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,a}inline(e,a=[]){return this.inlineQueue.push({src:e,tokens:a}),a}inlineTokens(e,a=[]){let n=e,r=null;if(this.tokens.links){let o=Object.keys(this.tokens.links);if(o.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)o.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(r=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let l=!1,s="";for(;e;){l||(s=""),l=!1;let o;if(this.options.extensions?.inline?.some(f=>(o=f.call({lexer:this},e,a))?(e=e.substring(o.raw.length),a.push(o),!0):!1))continue;if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),a.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),a.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),a.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);let f=a.at(-1);o.type==="text"&&f?.type==="text"?(f.raw+=o.raw,f.text+=o.text):a.push(o);continue}if(o=this.tokenizer.emStrong(e,n,s)){e=e.substring(o.raw.length),a.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),a.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),a.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),a.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),a.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),a.push(o);continue}let i=e;if(this.options.extensions?.startInline){let f=1/0,h=e.slice(1),g;this.options.extensions.startInline.forEach(x=>{g=x.call({lexer:this},h),typeof g=="number"&&g>=0&&(f=Math.min(f,g))}),f<1/0&&f>=0&&(i=e.substring(0,f+1))}if(o=this.tokenizer.inlineText(i)){e=e.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(s=o.raw.slice(-1)),l=!0;let f=a.at(-1);f?.type==="text"?(f.raw+=o.raw,f.text+=o.text):a.push(o);continue}if(e){let f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return a}},Wr=class{options;parser;constructor(t){this.options=t||Bt}space(t){return""}code({text:t,lang:e,escaped:a}){let n=(e||"").match(Re.notSpaceStart)?.[0],r=t.replace(Re.endingNewline,"")+`
`;return n?'<pre><code class="language-'+st(n)+'">'+(a?r:st(r,!0))+`</code></pre>
`:"<pre><code>"+(a?r:st(r,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,a=t.start,n="";for(let s=0;s<t.items.length;s++){let o=t.items[s];n+=this.listitem(o)}let r=e?"ol":"ul",l=e&&a!==1?' start="'+a+'"':"";return"<"+r+l+`>
`+n+"</"+r+`>
`}listitem(t){let e="";if(t.task){let a=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=a+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=a+" "+st(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:a+" ",text:a+" ",escaped:!0}):e+=a+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",a="";for(let r=0;r<t.header.length;r++)a+=this.tablecell(t.header[r]);e+=this.tablerow({text:a});let n="";for(let r=0;r<t.rows.length;r++){let l=t.rows[r];a="";for(let s=0;s<l.length;s++)a+=this.tablecell(l[s]);n+=this.tablerow({text:a})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),a=t.header?"th":"td";return(t.align?`<${a} align="${t.align}">`:`<${a}>`)+e+`</${a}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${st(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:a}){let n=this.parser.parseInline(a),r=Vs(t);if(r===null)return n;t=r;let l='<a href="'+t+'"';return e&&(l+=' title="'+st(e)+'"'),l+=">"+n+"</a>",l}image({href:t,title:e,text:a,tokens:n}){n&&(a=this.parser.parseInline(n,this.parser.textRenderer));let r=Vs(t);if(r===null)return st(a);t=r;let l=`<img src="${t}" alt="${a}"`;return e&&(l+=` title="${st(e)}"`),l+=">",l}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:st(t.text)}},ns=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},St=class Ja{options;renderer;textRenderer;constructor(e){this.options=e||Bt,this.options.renderer=this.options.renderer||new Wr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ns}static parse(e,a){return new Ja(a).parse(e)}static parseInline(e,a){return new Ja(a).parseInline(e)}parse(e,a=!0){let n="";for(let r=0;r<e.length;r++){let l=e[r];if(this.options.extensions?.renderers?.[l.type]){let o=l,i=this.options.extensions.renderers[o.type].call({parser:this},o);if(i!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){n+=i||"";continue}}let s=l;switch(s.type){case"space":{n+=this.renderer.space(s);continue}case"hr":{n+=this.renderer.hr(s);continue}case"heading":{n+=this.renderer.heading(s);continue}case"code":{n+=this.renderer.code(s);continue}case"table":{n+=this.renderer.table(s);continue}case"blockquote":{n+=this.renderer.blockquote(s);continue}case"list":{n+=this.renderer.list(s);continue}case"html":{n+=this.renderer.html(s);continue}case"def":{n+=this.renderer.def(s);continue}case"paragraph":{n+=this.renderer.paragraph(s);continue}case"text":{let o=s,i=this.renderer.text(o);for(;r+1<e.length&&e[r+1].type==="text";)o=e[++r],i+=`
`+this.renderer.text(o);a?n+=this.renderer.paragraph({type:"paragraph",raw:i,text:i,tokens:[{type:"text",raw:i,text:i,escaped:!0}]}):n+=i;continue}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(e,a=this.renderer){let n="";for(let r=0;r<e.length;r++){let l=e[r];if(this.options.extensions?.renderers?.[l.type]){let o=this.options.extensions.renderers[l.type].call({parser:this},l);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){n+=o||"";continue}}let s=l;switch(s.type){case"escape":{n+=a.text(s);break}case"html":{n+=a.html(s);break}case"link":{n+=a.link(s);break}case"image":{n+=a.image(s);break}case"strong":{n+=a.strong(s);break}case"em":{n+=a.em(s);break}case"codespan":{n+=a.codespan(s);break}case"br":{n+=a.br(s);break}case"del":{n+=a.del(s);break}case"text":{n+=a.text(s);break}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}},Ur=class{options;block;constructor(t){this.options=t||Bt}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Pt.lex:Pt.lexInline}provideParser(){return this.block?St.parse:St.parseInline}},Yl=class{defaults=Ka();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=St;Renderer=Wr;TextRenderer=ns;Lexer=Pt;Tokenizer=Zr;Hooks=Ur;constructor(...t){this.use(...t)}walkTokens(t,e){let a=[];for(let n of t)switch(a=a.concat(e.call(this,n)),n.type){case"table":{let r=n;for(let l of r.header)a=a.concat(this.walkTokens(l.tokens,e));for(let l of r.rows)for(let s of l)a=a.concat(this.walkTokens(s.tokens,e));break}case"list":{let r=n;a=a.concat(this.walkTokens(r.items,e));break}default:{let r=n;this.defaults.extensions?.childTokens?.[r.type]?this.defaults.extensions.childTokens[r.type].forEach(l=>{let s=r[l].flat(1/0);a=a.concat(this.walkTokens(s,e))}):r.tokens&&(a=a.concat(this.walkTokens(r.tokens,e)))}}return a}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(a=>{let n={...a};if(n.async=this.defaults.async||n.async||!1,a.extensions&&(a.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){let l=e.renderers[r.name];l?e.renderers[r.name]=function(...s){let o=r.renderer.apply(this,s);return o===!1&&(o=l.apply(this,s)),o}:e.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let l=e[r.level];l?l.unshift(r.tokenizer):e[r.level]=[r.tokenizer],r.start&&(r.level==="block"?e.startBlock?e.startBlock.push(r.start):e.startBlock=[r.start]:r.level==="inline"&&(e.startInline?e.startInline.push(r.start):e.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(e.childTokens[r.name]=r.childTokens)}),n.extensions=e),a.renderer){let r=this.defaults.renderer||new Wr(this.defaults);for(let l in a.renderer){if(!(l in r))throw new Error(`renderer '${l}' does not exist`);if(["options","parser"].includes(l))continue;let s=l,o=a.renderer[s],i=r[s];r[s]=(...f)=>{let h=o.apply(r,f);return h===!1&&(h=i.apply(r,f)),h||""}}n.renderer=r}if(a.tokenizer){let r=this.defaults.tokenizer||new Zr(this.defaults);for(let l in a.tokenizer){if(!(l in r))throw new Error(`tokenizer '${l}' does not exist`);if(["options","rules","lexer"].includes(l))continue;let s=l,o=a.tokenizer[s],i=r[s];r[s]=(...f)=>{let h=o.apply(r,f);return h===!1&&(h=i.apply(r,f)),h}}n.tokenizer=r}if(a.hooks){let r=this.defaults.hooks||new Ur;for(let l in a.hooks){if(!(l in r))throw new Error(`hook '${l}' does not exist`);if(["options","block"].includes(l))continue;let s=l,o=a.hooks[s],i=r[s];Ur.passThroughHooks.has(l)?r[s]=f=>{if(this.defaults.async)return Promise.resolve(o.call(r,f)).then(g=>i.call(r,g));let h=o.call(r,f);return i.call(r,h)}:r[s]=(...f)=>{let h=o.apply(r,f);return h===!1&&(h=i.apply(r,f)),h}}n.hooks=r}if(a.walkTokens){let r=this.defaults.walkTokens,l=a.walkTokens;n.walkTokens=function(s){let o=[];return o.push(l.call(this,s)),r&&(o=o.concat(r.call(this,s))),o}}this.defaults={...this.defaults,...n}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Pt.lex(t,e??this.defaults)}parser(t,e){return St.parse(t,e??this.defaults)}parseMarkdown(t){return(e,a)=>{let n={...a},r={...this.defaults,...n},l=this.onError(!!r.silent,!!r.async);if(this.defaults.async===!0&&n.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));r.hooks&&(r.hooks.options=r,r.hooks.block=t);let s=r.hooks?r.hooks.provideLexer():t?Pt.lex:Pt.lexInline,o=r.hooks?r.hooks.provideParser():t?St.parse:St.parseInline;if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(e):e).then(i=>s(i,r)).then(i=>r.hooks?r.hooks.processAllTokens(i):i).then(i=>r.walkTokens?Promise.all(this.walkTokens(i,r.walkTokens)).then(()=>i):i).then(i=>o(i,r)).then(i=>r.hooks?r.hooks.postprocess(i):i).catch(l);try{r.hooks&&(e=r.hooks.preprocess(e));let i=s(e,r);r.hooks&&(i=r.hooks.processAllTokens(i)),r.walkTokens&&this.walkTokens(i,r.walkTokens);let f=o(i,r);return r.hooks&&(f=r.hooks.postprocess(f)),f}catch(i){return l(i)}}}onError(t,e){return a=>{if(a.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let n="<p>An error occurred:</p><pre>"+st(a.message+"",!0)+"</pre>";return e?Promise.resolve(n):n}if(e)return Promise.reject(a);throw a}}},Nt=new Yl;function ie(t,e){return Nt.parse(t,e)}ie.options=ie.setOptions=function(t){return Nt.setOptions(t),ie.defaults=Nt.defaults,cn(ie.defaults),ie};ie.getDefaults=Ka;ie.defaults=Bt;ie.use=function(...t){return Nt.use(...t),ie.defaults=Nt.defaults,cn(ie.defaults),ie};ie.walkTokens=function(t,e){return Nt.walkTokens(t,e)};ie.parseInline=Nt.parseInline;ie.Parser=St;ie.parser=St.parse;ie.Renderer=Wr;ie.TextRenderer=ns;ie.Lexer=Pt;ie.lexer=Pt.lex;ie.Tokenizer=Zr;ie.Hooks=Ur;ie.parse=ie;ie.options;ie.setOptions;ie.use;ie.walkTokens;ie.parseInline;St.parse;Pt.lex;async function Ua(t){const e=We(an),a=`/instructions/${t}.${e}.md`;try{const n=Object.assign({"/src/instructions/changelog.de.md":()=>Qt(()=>import("../chunks/BfzYUEuP.js"),[],import.meta.url).then(h=>h.default),"/src/instructions/changelog.en.md":()=>Qt(()=>import("../chunks/D_GJU2op.js"),[],import.meta.url).then(h=>h.default),"/src/instructions/dashboard.de.md":()=>Qt(()=>import("../chunks/DVOM6Yl5.js"),[],import.meta.url).then(h=>h.default),"/src/instructions/dashboard.en.md":()=>Qt(()=>import("../chunks/DEVCXaag.js"),[],import.meta.url).then(h=>h.default),"/src/instructions/journal.de.md":()=>Qt(()=>import("../chunks/CA_rnUQW.js"),[],import.meta.url).then(h=>h.default),"/src/instructions/journal.en.md":()=>Qt(()=>import("../chunks/DYg12FaZ.js"),[],import.meta.url).then(h=>h.default)}),r=`/src${a}`;if(!n[r])throw new Error(`Markdown file not found: ${r}`);const l=await n[r](),s=await ie(l),i=l.split(`
`)[0].match(/^#\s*(.*)/),f=i?i[1]:"";return{html:s,title:f}}catch(n){return console.error(`Failed to load or parse markdown for ${t} in ${e}:`,n),{html:"<p>Error loading instructions.</p>",title:"Error"}}}const Zl={showReadme:async t=>{const e=await Ua(t);let a;t==="dashboard"?a="dashboard.instructionsTitle":t==="journal"?a="journal.showJournalInstructionsTitle":a="app.changelogTitle";const n=We(et)(a);zt.show(n,e.html,"alert")}};function Wl(t,e){const a=[],n=[],r=e.map(g=>J(g.price)).filter(g=>g.gt(0)),l=[J(t.entryPrice),J(t.stopLossPrice),...r];if(l.some(g=>g.lte(0)))return{visualBarContent:a,markers:n};const s=w.max(...l),o=w.min(...l),i=s.minus(o);if(i.lte(0))return{visualBarContent:a,markers:n};const f=J(t.stopLossPrice).minus(o).dividedBy(i).times(100),h=J(t.entryPrice).minus(o).dividedBy(i).times(100);return t.tradeType===I.TRADE_TYPE_LONG?(a.push({type:"loss-zone",style:{left:`${f}%`,width:`${h.minus(f)}%`}}),a.push({type:"gain-zone",style:{left:`${h}%`,width:`${new w(100).minus(h)}%`}})):(a.push({type:"gain-zone",style:{left:"0",width:`${h}%`}}),a.push({type:"loss-zone",style:{left:`${h}%`,width:`${f.minus(h)}%`}})),n.push({pos:f,label:"SL",isEntry:!1}),n.push({pos:h,label:"Einstieg",isEntry:!0}),e.forEach((g,x)=>{if(t.tradeType===I.TRADE_TYPE_LONG&&J(g.price).gt(J(t.entryPrice))||t.tradeType===I.TRADE_TYPE_SHORT&&J(g.price).lt(J(t.entryPrice))){const _=J(g.price).minus(o).dividedBy(i).times(100);n.push({pos:_,label:`TP${x+1}`,isEntry:!1,index:x})}}),{visualBarContent:a,markers:n}}function Hl(){try{const t=localStorage.getItem(I.LOCAL_STORAGE_JOURNAL_KEY)||"[]",e=JSON.parse(t);return Array.isArray(e)?e.map(a=>{const n={...a};return Object.keys(n).forEach(r=>{["accountSize","riskPercentage","entryPrice","stopLossPrice","leverage","fees","atrValue","atrMultiplier","totalRR","totalNetProfit","netLoss","riskAmount","totalFees","maxPotentialProfit","positionSize"].includes(r)&&(n[r]=new w(n[r]||0))}),n.targets&&Array.isArray(n.targets)&&(n.targets=n.targets.map(r=>({...r,price:new w(r.price||0),percent:new w(r.percent||0)}))),n}):[]}catch(t){return console.warn("Could not load journal from localStorage.",t),[]}}const yt=tn(Hl());yt.subscribe(t=>{try{localStorage.setItem(I.LOCAL_STORAGE_JOURNAL_KEY,JSON.stringify(t))}catch(e){console.warn("Could not save journal to localStorage.",e)}});const M={calculator:mr,uiManager:Zl,init:()=>{M.loadSettings(),M.populatePresetLoader(),M.calculateAndDisplay(),M.saveSettings(),Q.setInitializing(!1)},calculateAndDisplay:()=>{Q.hideError();const t=We(kt),a=(()=>{const o={accountSize:J(t.accountSize),riskPercentage:J(t.riskPercentage),entryPrice:J(t.entryPrice),leverage:J(t.leverage||I.DEFAULT_LEVERAGE),fees:J(t.fees||I.DEFAULT_FEES),symbol:t.symbol||"",useAtrSl:t.useAtrSl,atrValue:J(t.atrValue),atrMultiplier:J(t.atrMultiplier||I.DEFAULT_ATR_MULTIPLIER),stopLossPrice:J(t.stopLossPrice),targets:t.targets.map(h=>({price:J(h.price),percent:J(h.percent),isLocked:h.isLocked})),totalPercentSold:new w(0)},i={accountSize:o.accountSize,riskPercentage:o.riskPercentage,entryPrice:o.entryPrice};if(o.useAtrSl?(i.atrValue=o.atrValue,i.atrMultiplier=o.atrMultiplier):i.stopLossPrice=o.stopLossPrice,Object.keys(i).filter(h=>i[h].isZero()).length>0)return{status:I.STATUS_INCOMPLETE};if(o.useAtrSl){if(o.entryPrice.gt(0)&&o.atrValue.gt(0)&&o.atrMultiplier.gt(0)){const h=t.tradeType===I.TRADE_TYPE_LONG?"-":"+";o.stopLossPrice=t.tradeType===I.TRADE_TYPE_LONG?o.entryPrice.minus(o.atrValue.times(o.atrMultiplier)):o.entryPrice.plus(o.atrValue.times(o.atrMultiplier)),ue(g=>({...g,showAtrFormulaDisplay:!0,atrFormulaText:`SL = ${o.entryPrice.toFixed(4)} ${h} (${o.atrValue} Ã ${o.atrMultiplier}) = ${o.stopLossPrice.toFixed(4)}`}))}else if(o.atrValue.gt(0)&&o.atrMultiplier.gt(0))return{status:I.STATUS_INCOMPLETE}}else ue(h=>({...h,showAtrFormulaDisplay:!1,atrFormulaText:""}));if(o.accountSize.lte(0)||o.riskPercentage.lte(0)||o.entryPrice.lte(0)||o.stopLossPrice.lte(0))return{status:I.STATUS_INCOMPLETE};if(t.tradeType===I.TRADE_TYPE_LONG&&o.entryPrice.lte(o.stopLossPrice))return{status:I.STATUS_INVALID,message:"Long: Stop-Loss muss unter dem Kaufpreis liegen.",fields:["stopLossPrice","entryPrice"]};if(t.tradeType===I.TRADE_TYPE_SHORT&&o.entryPrice.gte(o.stopLossPrice))return{status:I.STATUS_INVALID,message:"Short: Stop-Loss muss Ã¼ber dem Verkaufspreis liegen.",fields:["stopLossPrice","entryPrice"]};for(const h of o.targets)if(h.price.gt(0))if(t.tradeType===I.TRADE_TYPE_LONG){if(h.price.lte(o.stopLossPrice))return{status:I.STATUS_INVALID,message:`Long: Take-Profit Ziel ${h.price.toFixed(4)} muss Ã¼ber dem Stop-Loss liegen.`,fields:["targets"]};if(h.price.lte(o.entryPrice))return{status:I.STATUS_INVALID,message:`Long: Take-Profit Ziel ${h.price.toFixed(4)} muss Ã¼ber dem Einstiegspreis liegen.`,fields:["targets"]}}else{if(h.price.gte(o.stopLossPrice))return{status:I.STATUS_INVALID,message:`Short: Take-Profit Ziel ${h.price.toFixed(4)} muss unter dem Stop-Loss liegen.`,fields:["targets"]};if(h.price.gte(o.entryPrice))return{status:I.STATUS_INVALID,message:`Short: Take-Profit Ziel ${h.price.toFixed(4)} muss unter dem Einstiegspreis liegen.`,fields:["targets"]}}return o.totalPercentSold=o.targets.reduce((h,g)=>h.plus(g.percent),new w(0)),o.totalPercentSold.gt(100)?{status:I.STATUS_INVALID,message:`Die Summe der Verkaufsprozente (${o.totalPercentSold.toFixed(0)}%) darf 100% nicht Ã¼berschreiten.`,fields:[]}:{status:I.STATUS_VALID,data:o}})();if(a.status===I.STATUS_INVALID){Q.showError(a.message||""),Br();return}if(a.status===I.STATUS_INCOMPLETE){Br(!0);return}let n=a.data,r;if(t.isPositionSizeLocked&&t.lockedPositionSize&&t.lockedPositionSize.gt(0)){const o=n.entryPrice.minus(n.stopLossPrice).abs();if(o.lte(0)){Q.showError("Stop-Loss muss einen gÃ¼ltigen Abstand zum Einstiegspreis haben."),Br();return}const i=o.times(t.lockedPositionSize),f=n.accountSize.isZero()?new w(0):i.div(n.accountSize).times(100);ue(h=>({...h,riskPercentage:f.toFixed(2)})),n.riskPercentage=f,r=mr.calculateBaseMetrics(n,t.tradeType),r&&(r.positionSize=t.lockedPositionSize)}else r=mr.calculateBaseMetrics(n,t.tradeType);if(!r||r.positionSize.lte(0)){Br(),t.isPositionSizeLocked&&M.togglePositionSizeLock(!1);return}ue(o=>({...o,positionSize:r.positionSize.toFixed(4),requiredMargin:r.requiredMargin.toFixed(2),netLoss:`-${r.netLoss.toFixed(2)}`,liquidationPrice:r.liquidationPrice.toFixed(n.entryPrice.decimalPlaces()),breakEvenPrice:r.breakEvenPrice.toFixed(n.entryPrice.decimalPlaces())}));const l=[];n.targets.forEach((o,i)=>{if(o.price.gt(0)&&o.percent.gt(0)){const f=mr.calculateIndividualTp(o.price,o.percent,r,n,i);(t.tradeType==="long"&&o.price.gt(n.entryPrice)||t.tradeType==="short"&&o.price.lt(n.entryPrice))&&l.push(f)}}),ue(o=>({...o,calculatedTpDetails:l}));const s=mr.calculateTotalMetrics(n.targets,r,n,t.tradeType);n.totalPercentSold.gt(0)?ue(o=>({...o,totalRR:s.totalRR.toFixed(2),totalNetProfit:`+${s.totalNetProfit.toFixed(2)}`,totalPercentSold:`${n.totalPercentSold}%`,riskAmountCurrency:`-${s.riskAmount.toFixed(2)}`,totalFees:s.totalFees.toFixed(2),maxPotentialProfit:`+${s.maxPotentialProfit.toFixed(2)}`,showTotalMetricsGroup:!0})):ue(o=>({...o,showTotalMetricsGroup:!1})),ue(o=>({...o,currentTradeData:{...n,...r,...s,tradeType:t.tradeType,status:"Open",calculatedTpDetails:l}})),M.saveSettings()},getJournal:()=>{try{const t=localStorage.getItem(I.LOCAL_STORAGE_JOURNAL_KEY)||"[]",e=JSON.parse(t);return Array.isArray(e)?e.map(a=>{const n={...a};return Object.keys(n).forEach(r=>{["accountSize","riskPercentage","entryPrice","stopLossPrice","leverage","fees","atrValue","atrMultiplier","totalRR","totalNetProfit","netLoss","riskAmount","totalFees","maxPotentialProfit","positionSize"].includes(r)&&(n[r]=new w(n[r]||0))}),n.targets&&Array.isArray(n.targets)&&(n.targets=n.targets.map(r=>({...r,price:new w(r.price||0),percent:new w(r.percent||0)}))),n}):[]}catch(t){return console.warn("Could not load journal from localStorage.",t),Q.showError("Journal konnte nicht geladen werden."),[]}},saveJournal:t=>{try{localStorage.setItem(I.LOCAL_STORAGE_JOURNAL_KEY,JSON.stringify(t))}catch(e){console.warn("Could not save journal to localStorage.",e),Q.showError("Fehler beim Speichern des Journals. Der lokale Speicher ist mÃ¶glicherweise voll oder blockiert.")}},addTrade:()=>{const t=We(kt);if(!t.currentTradeData.positionSize||t.currentTradeData.positionSize.lte(0)){Q.showError("Kann keinen ungÃ¼ltigen Trade speichern.");return}const e=M.getJournal();e.push({...t.currentTradeData,notes:t.tradeNotes,id:Date.now(),date:new Date().toISOString()}),M.saveJournal(e),yt.set(e),Q.showFeedback("save")},updateTradeStatus:(t,e)=>{const a=M.getJournal(),n=a.findIndex(r=>r.id==t);n!==-1&&(a[n].status=e,M.saveJournal(a),yt.set(a))},deleteTrade:t=>{const e=M.getJournal().filter(a=>a.id!=t);M.saveJournal(e),yt.set(e)},async clearJournal(){if(M.getJournal().length===0){Q.showError("Das Journal ist bereits leer.");return}await zt.show("Journal leeren","MÃ¶chten Sie wirklich das gesamte Journal unwiderruflich lÃ¶schen?","confirm")&&(M.saveJournal([]),yt.set([]),Q.showFeedback("save",2e3))},getInputsAsObject:()=>{const t=We(kt);return{accountSize:t.accountSize,riskPercentage:t.riskPercentage,leverage:t.leverage,fees:t.fees,tradeType:t.tradeType,useAtrSl:t.useAtrSl,atrMultiplier:t.atrMultiplier,symbol:t.symbol,targets:t.targets,selectedPreset:t.selectedPreset}},saveSettings:()=>{try{localStorage.setItem(I.LOCAL_STORAGE_SETTINGS_KEY,JSON.stringify(M.getInputsAsObject()))}catch(t){console.warn("Could not save settings to localStorage.",t)}},loadSettings:()=>{try{const t=localStorage.getItem(I.LOCAL_STORAGE_SETTINGS_KEY);if(!t)return;const e=JSON.parse(t);if(e){ue(a=>({...a,accountSize:e.accountSize||"",riskPercentage:e.riskPercentage||"",leverage:e.leverage||I.DEFAULT_LEVERAGE,fees:e.fees||I.DEFAULT_FEES,symbol:e.symbol||"",atrValue:e.atrValue||"",atrMultiplier:e.atrMultiplier||I.DEFAULT_ATR_MULTIPLIER,useAtrSl:e.useAtrSl||!1,tradeType:e.tradeType||I.TRADE_TYPE_LONG,targets:e.targets||[{price:"",percent:"",isLocked:!1},{price:"",percent:"",isLocked:!1},{price:"",percent:"",isLocked:!1}],selectedPreset:e.selectedPreset||""})),Na(e.useAtrSl||!1);return}}catch(t){console.warn("Could not load settings from localStorage.",t)}},savePreset:async()=>{const t=await zt.show("Preset speichern","Geben Sie einen Namen fÃ¼r Ihr Preset ein:","prompt");if(t)try{const e=JSON.parse(localStorage.getItem(I.LOCAL_STORAGE_PRESETS_KEY)||"{}");if(e[t]&&!await zt.show("Ãberschreiben?",`Preset "${t}" existiert bereits. MÃ¶chten Sie es Ã¼berschreiben?`,"confirm"))return;e[t]=M.getInputsAsObject(),localStorage.setItem(I.LOCAL_STORAGE_PRESETS_KEY,JSON.stringify(e)),Q.showFeedback("save"),ue(a=>({...a,availablePresets:Object.keys(e),selectedPreset:t}))}catch(e){console.error("Fehler beim Speichern des Presets:",e),Q.showError("Preset konnte nicht gespeichert werden. Der lokale Speicher ist mÃ¶glicherweise voll oder blockiert.")}},deletePreset:async()=>{const e=We(kt).selectedPreset;if(e&&await zt.show("Preset lÃ¶schen",`Preset "${e}" wirklich lÃ¶schen?`,"confirm"))try{const a=JSON.parse(localStorage.getItem(I.LOCAL_STORAGE_PRESETS_KEY)||"{}");delete a[e],localStorage.setItem(I.LOCAL_STORAGE_PRESETS_KEY,JSON.stringify(a)),ue(n=>({...n,availablePresets:Object.keys(a),selectedPreset:""}))}catch{Q.showError("Preset konnte nicht gelÃ¶scht werden.")}},loadPreset:t=>{if(t)try{const a=JSON.parse(localStorage.getItem(I.LOCAL_STORAGE_PRESETS_KEY)||"{}")[t];if(a){sn(),ue(n=>({...n,accountSize:a.accountSize||"",riskPercentage:a.riskPercentage||"",leverage:a.leverage||I.DEFAULT_LEVERAGE,fees:a.fees||I.DEFAULT_FEES,symbol:a.symbol||"",atrValue:a.atrValue||"",atrMultiplier:a.atrMultiplier||I.DEFAULT_ATR_MULTIPLIER,useAtrSl:a.useAtrSl||!1,tradeType:a.tradeType||I.TRADE_TYPE_LONG,targets:a.targets||[{price:"",percent:"",isLocked:!1},{price:"",percent:"",isLocked:!1},{price:"",percent:"",isLocked:!1}],selectedPreset:t})),Na(a.useAtrSl||!1);return}}catch(e){console.error("Fehler beim Laden des Presets:",e),Q.showError("Preset konnte nicht geladen werden.")}},populatePresetLoader:()=>{try{const t=JSON.parse(localStorage.getItem(I.LOCAL_STORAGE_PRESETS_KEY)||"{}"),e=Object.keys(t);ue(a=>({...a,availablePresets:e}))}catch(t){console.warn("Could not populate presets from localStorage.",t),ue(e=>({...e,availablePresets:[]}))}},exportToCSV:()=>{const t=We(yt);if(t.length===0){Q.showError("Journal ist leer.");return}const e=["ID","Datum","Uhrzeit","Symbol","Typ","Status","Konto Guthaben","Risiko %","Hebel","Gebuehren %","Einstieg","Stop Loss","Gewichtetes R/R","Gesamt Netto-Gewinn","Risiko pro Trade (Waehrung)","Gesamte Gebuehren","Max. potenzieller Gewinn","Notizen",...Array.from({length:5},(l,s)=>[`TP${s+1} Preis`,`TP${s+1} %`]).flat()],a=t.map(l=>{const s=new Date(l.date),o=l.notes?`"${l.notes.replace(/"/g,'""').replace(/\n/g," ")}"`:"",i=Array.from({length:5},(f,h)=>[(l.targets[h]?.price||new w(0)).toFixed(4),(l.targets[h]?.percent||new w(0)).toFixed(2)]).flat();return[l.id,s.toLocaleDateString("de-DE"),s.toLocaleTimeString("de-DE"),l.symbol,l.tradeType,l.status,(l.accountSize||new w(0)).toFixed(2),(l.riskPercentage||new w(0)).toFixed(2),(l.leverage||new w(0)).toFixed(2),(l.fees||new w(0)).toFixed(2),(l.entryPrice||new w(0)).toFixed(4),(l.stopLossPrice||new w(0)).toFixed(4),(l.totalRR||new w(0)).toFixed(2),(l.totalNetProfit||new w(0)).toFixed(2),(l.riskAmount||new w(0)).toFixed(2),(l.totalFees||new w(0)).toFixed(2),(l.maxPotentialProfit||new w(0)).toFixed(2),o,...i].join(",")}),n="data:text/csv;charset=utf-8,"+e.join(",")+`
`+a.join(`
`),r=document.createElement("a");r.href=encodeURI(n),r.download="TradeJournal.csv",document.body.appendChild(r),r.click(),document.body.removeChild(r)},importFromCSV:t=>{const e=new FileReader;e.onload=async a=>{const r=(a.target?.result).split(`
`).filter(f=>f.trim()!=="");if(r.length<2){Q.showError("CSV ist leer oder hat nur eine Kopfzeile.");return}const l=r[0].split(",").map(f=>f.trim()),o=["ID","Datum","Uhrzeit","Symbol","Typ","Status","Einstieg","Stop Loss"].filter(f=>!l.includes(f));if(o.length>0){Q.showError(`CSV-Datei fehlen benÃ¶tigte Spalten: ${o.join(", ")}`);return}const i=r.slice(1).map(f=>{const h=f.split(","),g=l.reduce((x,_,m)=>(x[_]=h[m]?h[m].trim():"",x),{});try{const x=[];for(let m=1;m<=5;m++){const P=`TP${m} Preis`,L=`TP${m} %`;g[P]&&g[L]&&x.push({price:J(g[P]),percent:J(g[L]),isLocked:!1})}const _=g;return{id:parseInt(_.ID,10),date:new Date(`${_.Datum} ${_.Uhrzeit}`).toISOString(),symbol:_.Symbol,tradeType:_.Typ.toLowerCase(),status:_.Status,accountSize:J(_["Konto Guthaben"]||"0"),riskPercentage:J(_["Risiko %"]||"0"),leverage:J(_.Hebel||"1"),fees:J(_["Gebuehren %"]||"0.1"),entryPrice:J(_.Einstieg),stopLossPrice:J(_["Stop Loss"]),totalRR:J(_["Gewichtetes R/R"]||"0"),totalNetProfit:J(_["Gesamt Netto-Gewinn"]||"0"),riskAmount:J(_["Risiko pro Trade (Waehrung)"]||"0"),totalFees:J(_["Gesamte Gebuehren"]||"0"),maxPotentialProfit:J(_["Max. potenzieller Gewinn"]||"0"),notes:_.Notizen?_.Notizen.replace(/""/g,'"').slice(1,-1):"",targets:x}}catch(x){return console.warn("Fehler beim Verarbeiten einer Zeile:",g,x),null}}).filter(Boolean);if(i.length>0){const h=[...We(yt),...i],g=Array.from(new Map(h.map(x=>[x.id,x])).values());await zt.show("Import bestÃ¤tigen",`Sie sind dabei, ${i.length} Trades zu importieren. Bestehende Trades mit derselben ID werden Ã¼berschrieben. Fortfahren?`,"confirm")&&(yt.set(g),Q.showFeedback("save",2e3))}else Q.showError("Keine gÃ¼ltigen EintrÃ¤ge in der CSV-Datei gefunden.")},e.readAsText(t)},handleFetchPrice:async()=>{const e=We(kt).symbol.toUpperCase().replace("/","");if(!e){Q.showError("Bitte geben Sie ein Symbol ein.");return}ue(a=>({...a,isPriceFetching:!0}));try{const a=await dl.fetchBinancePrice(e);ue(n=>({...n,entryPrice:a.toDP(4).toString()})),Q.showFeedback("copy",700),M.calculateAndDisplay()}catch(a){Q.showError(a.message)}finally{ue(a=>({...a,isPriceFetching:!1}))}},togglePositionSizeLock:t=>{const e=We(kt),a=t!==void 0?t:!e.isPositionSizeLocked;if(a&&(!e.positionSize||J(e.positionSize).lte(0))){Q.showError("PositionsgrÃ¶Ãe kann nicht gesperrt werden, solange sie ungÃ¼ltig ist.");return}ue(n=>({...n,isPositionSizeLocked:a,lockedPositionSize:a?J(e.positionSize):null})),M.calculateAndDisplay()},addTakeProfitRow:(t="",e="",a=!1)=>{ue(n=>({...n,targets:[...n.targets,{price:t,percent:e,isLocked:a}]}))},adjustTpPercentages:t=>{const a=[...We(kt).targets];let n=new w(0);const r=[];a.forEach((s,o)=>{s.isLocked?n=n.plus(J(s.percent)):r.push(o)});let l=new w(100).minus(n);if(l.lt(0)){Q.showError("Gesperrter Prozentsatz Ã¼bersteigt 100%. Bitte anpassen.");return}if(r.length>0&&t!==null&&!a[t].isLocked){let s=J(a[t].percent);s.gt(l)&&(s=l,a[t].percent=s.toFixed(0));const o=r.filter(i=>i!==t);if(o.length>0){const i=l.minus(s);let f=o.reduce((h,g)=>h.plus(J(a[g].percent)),new w(0));if(f.isZero()){const h=i.div(r.length-1);o.forEach(g=>a[g].percent=h.toFixed(0))}else o.forEach(h=>{const x=J(a[h].percent).div(f);a[h].percent=i.times(x).toFixed(0)})}}else if(r.length>0){const s=l.div(r.length);r.forEach(o=>a[o].percent=s.toFixed(0))}ue(s=>({...s,targets:a}))}};var Kl=te('<section class="mt-4 md:col-span-2"><h2 class="section-header"><span> </span> <div class="flex items-center gap-2"><div class="tooltip"><div class="tooltip-icon">?</div><span class="tooltiptext"> </span></div> <button id="add-tp-btn" class="btn-icon-accent" tabindex="-1"><!></button></div></h2> <div id="take-profit-list" class="grid grid-cols-1 md:grid-cols-3 gap-4"></div></section>');function Ql(t,e){ct(e,!1);const[a,n]=dt(),r=()=>je(et,"$_",a),l=Qr();let s=W(e,"targets",12),o=W(e,"calculatedTpDetails",24,()=>[]);function i(){M.addTakeProfitRow()}function f(S){const R=S.detail;l("remove",R)}function h(S){const{index:R,price:z,percent:N,isLocked:D}=S.detail;s(s()[R]={price:z,percent:N,isLocked:D},!0),M.adjustTpPercentages(R),l("change",s())}function g(S){const{index:R,isLocked:z}=S.detail;s(s()[R].isLocked=z,!0),M.adjustTpPercentages(R),l("change",s())}ot();var x=Kl(),_=u(x),m=u(_),P=u(m,!0);c(m);var L=v(m,2),A=u(L),E=v(u(A)),F=u(E,!0);c(E),c(A);var O=v(A,2),C=u(O);ve(C,()=>(U(H),p(()=>H.add))),c(O),c(L),c(_);var T=v(_,2);Ft(T,5,s,It,(S,R,z)=>{const N=Ya(()=>(U(o()),p(()=>o().find(D=>D.index===z))));ul(S,{index:z,get tpDetail(){return d(N)},get price(){return d(R).price},set price(D){d(R).price=D,wr(()=>s())},get percent(){return d(R).percent},set percent(D){d(R).percent=D,wr(()=>s())},get isLocked(){return d(R).isLocked},set isLocked(D){d(R).isLocked=D,wr(()=>s())},$$events:{remove:f,input:h,lockToggle:g},$$legacy:!0})}),c(T),c(x),K((S,R,z)=>{b(P,S),b(F,R),j(O,"title",z)},[()=>(r(),p(()=>r()("dashboard.takeProfitTargets.header"))),()=>(r(),p(()=>r()("dashboard.takeProfitTargets.tooltip"))),()=>(r(),p(()=>r()("dashboard.takeProfitTargets.addTargetTitle")))]),B("click",O,i),Y(t,x),ut(),n()}const Xl=t=>t;function eo(t,{delay:e=0,duration:a=400,easing:n=Xl}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:a,easing:n,css:l=>`opacity: ${l*r}`}}var to=te('<input type="text" class="input-field w-full px-3 py-2 rounded-md mb-4"/>'),ro=te('<button class="bg-red-600 hover:bg-red-500 text-white font-bold py-2 px-4 rounded-lg"> </button> <button class="bg-slate-600 hover:bg-slate-500 text-white font-bold py-2 px-4 rounded-lg"> </button>',1),ao=te('<button class="btn-modal-ok font-bold py-2 px-4 rounded-lg"> </button>'),so=te('<div><div class="modal-content svelte-1acjfjz"><h3 class="text-xl font-bold mb-4"> </h3> <div class="mb-4 max-h-[70vh] overflow-y-auto pr-2"><!></div> <!> <div class="flex justify-end gap-4"><!></div></div></div>');function no(t,e){ct(e,!1);const[a,n]=dt(),r=()=>je(et,"$_",a);let l=tr({title:"",message:"",type:"alert",defaultValue:"",isOpen:!1,resolve:null});zt.subscribe(g=>{er(l,g)});function s(g){zt._handleModalConfirm(g)}function o(g){me(l,d(l).defaultValue=g.target.value)}ot();var i=Tr(),f=Ct(i);{var h=g=>{var x=so();let _;var m=u(x),P=u(m),L=u(P,!0);c(P);var A=v(P,2),E=u(A);ve(E,()=>d(l).message),c(A);var F=v(A,2);{var O=z=>{var N=to();Oe(N),K(D=>j(N,"placeholder",D),[()=>r()("dashboard.customModal.promptPlaceholder")]),De(N,()=>d(l).defaultValue,D=>me(l,d(l).defaultValue=D)),B("input",N,o),Y(z,N)};ye(F,z=>{d(l).type==="prompt"&&z(O)})}var C=v(F,2),T=u(C);{var S=z=>{var N=ro(),D=Ct(N),V=u(D,!0);c(D);var X=v(D,2),ce=u(X,!0);c(X),K((G,q)=>{b(V,G),b(ce,q)},[()=>r()("dashboard.customModal.yesButton"),()=>r()("dashboard.customModal.noButton")]),B("click",D,()=>s(!0)),B("click",X,()=>s(!1)),Y(z,N)},R=z=>{var N=ao(),D=u(N,!0);c(N),K(V=>b(D,V),[()=>r()("dashboard.customModal.okButton")]),B("click",N,()=>s(d(l).type==="prompt"?d(l).defaultValue:!0)),Y(z,N)};ye(T,z=>{d(l).type==="confirm"?z(S):z(R,!1)})}c(C),c(m),c(x),K(z=>{_=fe(x,1,"modal-overlay svelte-1acjfjz",null,_,z),b(L,d(l).title)},[()=>({visible:d(l).isOpen})]),Zi(3,x,()=>eo,()=>({duration:150})),Y(g,x)};ye(f,g=>{d(l).isOpen&&g(h)})}Y(t,i),ut(),n()}var io=te("<div></div>"),lo=te('<div class="tp-tooltip svelte-181idyl"><div class="tp-tooltip-line svelte-181idyl"> <span class="text-green-400 svelte-181idyl"> </span></div> <div class="tp-tooltip-line svelte-181idyl"> <span> </span></div></div>'),oo=te('<div role="button" tabindex="0"><span style="transform: translateX(-50%);" class="svelte-181idyl"> </span> <!></div>'),co=te('<section class="visual-bar-container md:col-span-2 svelte-181idyl"><h2 class="section-header text-center !mb-4"> </h2> <div class="visual-bar svelte-181idyl" role="img" aria-label="Trade visualization bar"><!> <!></div></section>');function uo(t,e){ct(e,!1);const[a,n]=dt(),r=()=>je(et,"$_",a);let l=W(e,"entryPrice",8),s=W(e,"stopLossPrice",8),o=W(e,"tradeType",8),i=W(e,"targets",8),f=W(e,"calculatedTpDetails",8),h=tr({visualBarContent:[],markers:[]});yr(()=>(U(l()),U(s()),U(o()),U(i())),()=>{er(h,Wl({entryPrice:l(),stopLossPrice:s(),tradeType:o()},i()))}),rn(),ot();var g=co(),x=u(g),_=u(x,!0);c(x);var m=v(x,2),P=u(m);Ft(P,1,()=>(d(h),p(()=>d(h).visualBarContent)),It,(A,E)=>{var F=io();K(()=>{fe(F,1,(d(E),p(()=>d(E).type)),"svelte-181idyl"),Ds(F,`left: ${d(E),p(()=>d(E).style.left)??""}; width: ${d(E),p(()=>d(E).style.width)??""};`)}),Y(A,F)});var L=v(P,2);Ft(L,1,()=>(d(h),p(()=>d(h).markers)),It,(A,E)=>{const F=Ya(()=>(U(f()),d(E),p(()=>f().find(z=>z.index===d(E).index))));var O=oo(),C=u(O),T=u(C,!0);c(C);var S=v(C,2);{var R=z=>{var N=lo(),D=u(N),V=u(D),X=v(V),ce=u(X);c(X),c(D);var G=v(D,2),q=u(G),re=v(q),$=u(re,!0);c(re),c(G),c(N),K((ee,xe,Ee,we,_e)=>{b(V,`${ee??""} `),b(ce,`+$${xe??""}`),b(q,`${Ee??""} `),fe(re,1,we,"svelte-181idyl"),b($,_e)},[()=>(r(),p(()=>r()("dashboard.visualBar.netProfitLabel"))),()=>(U(d(F)),p(()=>d(F).netProfit.toFixed(2))),()=>(r(),p(()=>r()("dashboard.visualBar.rrLabel"))),()=>(U(d(F)),p(()=>d(F).riskRewardRatio.gte(2)?"text-green-400":d(F).riskRewardRatio.gte(1.5)?"text-yellow-400":"text-red-400")),()=>(U(d(F)),p(()=>d(F).riskRewardRatio.toFixed(2)))]),Y(z,N)};ye(S,z=>{d(F)&&z(R)})}c(O),K(()=>{fe(O,1,`bar-marker ${d(E),p(()=>d(E).isEntry?"entry-marker":"")??""} ${d(E),p(()=>d(E).index!==void 0?"tp-marker":"")??""}`,"svelte-181idyl"),Ds(O,`left: ${d(E),p(()=>d(E).pos)??""}%;`),b(T,(d(E),p(()=>d(E).label)))}),Y(A,O)}),c(m),c(g),K(A=>b(_,A),[()=>(r(),p(()=>r()("dashboard.visualBar.header")))]),Y(t,g),ut(),n()}var po=te('<span id="copy-feedback" class="copy-feedback visible"> </span>'),ho=te('<div class="result-group"><h2 class="section-header"> </h2> <div class="result-item"><div class="result-label"> <button id="lock-position-size-btn" class="copy-btn ml-2"><!></button> <button id="copy-btn" class="copy-btn"><!></button> <!></div> <span id="positionSize" class="result-value text-lg text-green-400"> </span></div> <div class="result-item"><div class="result-label"> <div class="tooltip"><div class="tooltip-icon">?</div><span class="tooltiptext"> </span></div></div><span id="netLoss" class="result-value text-red-400"> </span></div> <div class="result-item"><div class="result-label"> <div class="tooltip"><div class="tooltip-icon">?</div><span class="tooltiptext"> </span></div></div><span id="requiredMargin" class="result-value"> </span></div> <div class="result-item"><span class="result-label"> <div class="tooltip"><div class="tooltip-icon">?</div><span class="tooltiptext"> </span></div></span> <span id="liquidationPrice" class="result-value text-warning-color"> </span></div> <div class="result-item"><span class="result-label"> <div class="tooltip"><div class="tooltip-icon">?</div><span class="tooltiptext"> </span></div></span><span id="breakEvenPrice" class="result-value text-sky-400"> </span></div></div>');function vo(t,e){ct(e,!1);const[a,n]=dt(),r=()=>je(et,"$_",a),l=Qr();let s=W(e,"isPositionSizeLocked",8),o=W(e,"showCopyFeedback",8),i=W(e,"positionSize",8),f=W(e,"netLoss",8),h=W(e,"requiredMargin",8),g=W(e,"liquidationPrice",8),x=W(e,"breakEvenPrice",8);function _(){navigator.clipboard.writeText(i()),l("copy")}ot();var m=ho(),P=u(m),L=u(P,!0);c(P);var A=v(P,2),E=u(A),F=u(E),O=v(F),C=u(O);{var T=ze=>{var ge=Tr(),ht=Ct(ge);ve(ht,()=>(U(H),p(()=>H.lockClosed))),Y(ze,ge)},S=ze=>{var ge=Tr(),ht=Ct(ge);ve(ht,()=>(U(H),p(()=>H.lockOpen))),Y(ze,ge)};ye(C,ze=>{s()?ze(T):ze(S,!1)})}c(O);var R=v(O,2),z=u(R);ve(z,()=>(U(H),p(()=>H.copy))),c(R);var N=v(R,2);{var D=ze=>{var ge=po(),ht=u(ge,!0);c(ge),K(nr=>b(ht,nr),[()=>(r(),p(()=>r()("dashboard.summaryResults.copiedFeedback")))]),Y(ze,ge)};ye(N,ze=>{o()&&ze(D)})}c(E);var V=v(E,2),X=u(V,!0);c(V),c(A);var ce=v(A,2),G=u(ce),q=u(G,!0),re=v(q),$=v(u(re)),ee=u($,!0);c($),c(re),c(G);var xe=v(G),Ee=u(xe,!0);c(xe),c(ce);var we=v(ce,2),_e=u(we),Tt=u(_e,!0),He=v(Tt),se=v(u(He)),le=u(se,!0);c(se),c(He),c(_e);var de=v(_e),pe=u(de,!0);c(de),c(we);var he=v(we,2),Ke=u(he),pt=u(Ke,!0),Pe=v(pt),$e=v(u(Pe)),Vt=u($e,!0);c($e),c(Pe),c(Ke);var qt=v(Ke,2),Ar=u(qt,!0);c(qt),c(he);var Rr=v(he,2),rr=u(Rr),Gt=u(rr,!0),ar=v(Gt),sr=v(u(ar)),Jt=u(sr,!0);c(sr),c(ar),c(rr);var Ut=v(rr),Ot=u(Ut,!0);c(Ut),c(Rr),c(m),K((ze,ge,ht,nr,ta,Er,ra,ir,aa,Yt,$r,zr,lr)=>{b(L,ze),b(F,`${ge??""} `),j(O,"title",ht),j(O,"aria-label",nr),j(R,"aria-label",ta),b(X,i()),b(q,Er),b(ee,ra),b(Ee,f()),b(Tt,ir),b(le,aa),b(pe,h()),b(pt,Yt),b(Vt,$r),b(Ar,g()),b(Gt,zr),b(Jt,lr),b(Ot,x())},[()=>(r(),p(()=>r()("dashboard.summaryResults.header"))),()=>(r(),p(()=>r()("dashboard.summaryResults.positionSizeLabel"))),()=>(r(),p(()=>r()("dashboard.summaryResults.lockPositionSizeTitle"))),()=>(r(),p(()=>r()("dashboard.summaryResults.lockPositionSizeAriaLabel"))),()=>(r(),p(()=>r()("dashboard.summaryResults.copyPositionSizeAriaLabel"))),()=>(r(),p(()=>r()("dashboard.summaryResults.maxNetLossLabel"))),()=>(r(),p(()=>r()("dashboard.summaryResults.maxNetLossTooltip"))),()=>(r(),p(()=>r()("dashboard.summaryResults.requiredMarginLabel"))),()=>(r(),p(()=>r()("dashboard.summaryResults.requiredMarginTooltip"))),()=>(r(),p(()=>r()("dashboard.summaryResults.estimatedLiquidationPriceLabel"))),()=>(r(),p(()=>r()("dashboard.summaryResults.estimatedLiquidationPriceTooltip"))),()=>(r(),p(()=>r()("dashboard.summaryResults.breakEvenPriceLabel"))),()=>(r(),p(()=>r()("dashboard.summaryResults.breakEvenPriceTooltip")))]),B("click",O,()=>l("toggleLock")),B("click",R,_),Y(t,m),ut(),n()}var fo=te('<div class="flex items-center justify-center gap-2"><button>ð©ðª</button> <button>ð¬ð§</button></div>');function go(t,e){ct(e,!1);const[a,n]=dt(),r=()=>je(an,"$locale",a),l=()=>je(et,"$_",a);ot();var s=fo(),o=u(s);let i;var f=v(o,2);let h;c(s),K((g,x,_,m)=>{i=fe(o,1,"w-10 h-10 rounded-full flex items-center justify-center text-xl transition-all duration-200 svelte-1t9my1b",null,i,g),j(o,"title",x),h=fe(f,1,"w-10 h-10 rounded-full flex items-center justify-center text-xl transition-all duration-200 svelte-1t9my1b",null,h,_),j(f,"title",m)},[()=>({"border-2":r()==="de","border-[var(--accent-color)]":r()==="de","border-transparent":r()!=="de","opacity-50":r()!=="de","hover:opacity-100":r()!=="de"}),()=>l()("languages.german"),()=>({"border-2":r()==="en","border-[var(--accent-color)]":r()==="en","border-transparent":r()!=="en","opacity-50":r()!=="en","hover:opacity-100":r()!=="en"}),()=>l()("languages.english")]),B("click",o,()=>Fs("de")),B("click",f,()=>Fs("en")),Y(t,s),ut(),n()}var bo=te("<option> </option>"),mo=te('<div id="error-message" class="text-[var(--danger-color)] text-center text-sm font-medium mt-4 md:col-span-2"> </div>'),xo=te('<div id="total-metrics-group" class="result-group"><h2 class="section-header"> <div class="tooltip"><div class="tooltip-icon">?</div><span class="tooltiptext"> </span></div></h2> <div class="result-item"><span class="result-label"> <div class="tooltip"><div class="tooltip-icon">?</div><span class="tooltiptext"> </span></div></span><span id="riskAmountCurrency" class="result-value text-[var(--danger-color)]"> </span></div> <div class="result-item"><span class="result-label"> <div class="tooltip"><div class="tooltip-icon">?</div><span class="tooltiptext"> </span></div></span><span id="totalFees" class="result-value"> </span></div> <div class="result-item"><span class="result-label"> <div class="tooltip"><div class="tooltip-icon">?</div><span class="tooltiptext"> </span></div></span><span id="maxPotentialProfit" class="result-value text-green-400"> </span></div> <div class="result-item"><span class="result-label"> <div class="tooltip"><div class="tooltip-icon">?</div><span class="tooltiptext"> </span></div></span><span id="totalRR" class="result-value"> </span></div> <div class="result-item"><span class="result-label"> <div class="tooltip"><div class="tooltip-icon">?</div><span class="tooltiptext"> </span></div></span><span id="totalNetProfit" class="result-value text-green-400"> </span></div> <div class="result-item"><span class="result-label"> <div class="tooltip"><div class="tooltip-icon">?</div><span class="tooltiptext"> </span></div></span><span id="totalPercentSold" class="result-value"> </span></div></div>'),_o=te('<div class="result-group !mt-0 md:!mt-6"><h2 class="section-header"> </h2> <div class="result-item"><span class="result-label">Risk/Reward Ratio</span><span> </span></div> <div class="result-item"><span class="result-label"> <div class="tooltip"><div class="tooltip-icon">?</div><span class="tooltiptext"> </span></div></span><span class="result-value text-green-400"> </span></div> <div class="result-item"><span class="result-label"> <div class="tooltip"><div class="tooltip-icon">?</div><span class="tooltiptext"> </span></div></span><span> </span></div> <div class="result-item"><span class="result-label"> <div class="tooltip"><div class="tooltip-icon">?</div><span class="tooltiptext"> </span></div></span><span> </span></div> <div class="result-item"><span class="result-label"> <div class="tooltip"><div class="tooltip-icon">?</div><span class="tooltiptext"> </span></div></span><span class="result-value"> </span></div></div>'),ko=te('<span id="save-feedback"> </span>'),yo=te('<tr><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td><select class="status-select input-field p-1"><option> </option><option> </option><option> </option></select></td><td class="notes-cell"> </td><td class="text-center"><button class="delete-trade-btn text-red-500 hover:text-red-400 p-1 rounded-full"><!></button></td></tr>'),wo=te('<tr><td colspan="9" class="text-center text-slate-500 py-8"> </td></tr>'),Po=te("<tr><td> </td><td> </td><td> </td><td> </td></tr>"),So=te('<tr><td colspan="4" class="text-center text-slate-500 py-4"> </td></tr>'),To=te('<main class="my-8 w-full max-w-4xl mx-auto calculator-wrapper rounded-2xl shadow-2xl p-6 sm:p-8 fade-in"><div class="flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4"><div class="flex justify-between items-center w-full md:w-auto"><h1 class="text-2xl sm:text-3xl font-bold"> </h1> <button id="view-journal-btn-mobile" class="text-sm md:hidden bg-[var(--btn-accent-bg)] hover:bg-[var(--btn-accent-hover)] text-[var(--btn-accent-text)] font-bold py-2 px-4 rounded-lg"> </button></div> <div class="flex items-center flex-wrap justify-end gap-2 w-full md:w-auto"><div class="flex items-center flex-wrap justify-end gap-2 md:order-1"><select id="preset-loader" class="input-field px-3 py-2 rounded-md text-sm"><option> </option><!></select> <button id="save-preset-btn" class="text-sm bg-[var(--btn-default-bg)] hover:bg-[var(--btn-default-hover-bg)] text-[var(--btn-default-text)] font-bold py-2.5 px-2.5 rounded-lg"><!></button> <button id="delete-preset-btn" class="text-sm bg-[var(--btn-danger-bg)] hover:bg-[var(--btn-danger-hover-bg)] text-[var(--btn-danger-text)] font-bold py-2.5 px-2.5 rounded-lg disabled:cursor-not-allowed"><!></button> <button id="reset-btn" class="text-sm bg-[var(--btn-default-bg)] hover:bg-[var(--btn-default-hover-bg)] text-[var(--btn-default-text)] font-bold py-2.5 px-2.5 rounded-lg flex items-center gap-2"><!></button> <button id="theme-switcher" class="text-sm bg-[var(--btn-default-bg)] hover:bg-[var(--btn-default-hover-bg)] text-[var(--btn-default-text)] font-bold py-2 px-2.5 rounded-lg"><!></button></div> <button id="view-journal-btn-desktop" class="hidden md:inline-block text-sm bg-[var(--btn-accent-bg)] hover:bg-[var(--btn-accent-hover)] text-[var(--btn-accent-text)] font-bold py-2 px-4 rounded-lg md:order-2"> </button></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4"><div><!> <!></div> <!></div> <!> <!> <section id="results" class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-x-8"><div><!> <!></div> <div id="tp-results-container"></div> <!> <footer class="md:col-span-2"><textarea id="tradeNotes" class="input-field w-full px-4 py-2 rounded-md mb-4" rows="2"></textarea> <div class="flex items-center gap-4"><button id="save-journal-btn" class="w-full font-bold py-3 px-4 rounded-lg btn-primary-action"> </button> <button id="show-dashboard-readme-btn" class="font-bold p-3 rounded-lg btn-secondary-action"><!></button> <!></div> <div class="mt-4"><!></div></footer></section></main> <footer class="w-full max-w-4xl mx-auto text-center py-4 text-sm text-gray-500">Version 0.92b - <button class="text-link">Changelog</button></footer> <div id="journal-modal"><div class="modal-content w-full h-full max-w-6xl"><div class="flex justify-between items-center mb-4"><h2 class="text-2xl font-bold"> </h2><button id="close-journal-btn" class="text-3xl">&times;</button></div> <div id="journal-stats" class="journal-stats"></div> <div class="flex gap-4 my-4"><input type="text" id="journal-search" class="input-field w-full px-3 py-2 rounded-md"/><select id="journal-filter" class="input-field px-3 py-2 rounded-md"><option> </option><option> </option><option> </option><option> </option></select></div> <div class="max-h-[calc(100vh-20rem)] overflow-auto"><table class="journal-table"><thead><tr><th> </th><th> </th><th> </th><th> </th><th> </th><th> </th><th> </th><th> </th><th> </th></tr></thead><tbody><!><!></tbody></table></div> <h3 class="text-xl font-bold mt-6 mb-4"> </h3> <div id="symbol-performance-stats" class="max-h-48 overflow-y-auto border border-[var(--border-color)] rounded-md p-2"><table class="journal-table w-full"><thead><tr><th> </th><th> </th><th> </th><th> </th></tr></thead><tbody id="symbol-performance-table-body"><!><!></tbody></table></div> <div class="flex items-center gap-4 mt-4"><button id="export-csv-btn" class="bg-green-700 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2"><!><span> </span></button> <input type="file" id="import-csv-input" accept=".csv" class="hidden"/> <button id="import-csv-btn" class="bg-blue-700 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2"><!><span> </span></button> <button id="clear-journal-btn" class="bg-red-800 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2"><!><span> </span></button> <button id="show-journal-readme-btn" class="bg-slate-600 hover:bg-slate-500 text-white font-bold p-2.5 rounded-lg"><!></button></div></div></div> <!> <div id="changelog-modal"><div class="modal-content w-full h-full max-w-6xl"><div class="flex justify-between items-center mb-4"><h2 class="text-2xl font-bold"> </h2> <button id="close-changelog-btn" class="text-3xl">&times;</button></div> <div id="changelog-content" class="prose dark:prose-invert max-h-[calc(100vh-10rem)] overflow-y-auto"><!></div></div></div>',1);function zo(t,e){ct(e,!1);const[a,n]=dt(),r=()=>je(kt,"$tradeStore",a),l=()=>je(Q,"$uiStore",a),s=()=>je(et,"$_",a),o=()=>je(yt,"$journalStore",a),i=tr(),f=tr();let h,g=tr("");Ci(()=>(h=kt.subscribe(y=>er(i,y)),M.init(),()=>h()));function x(y){Q.showError(y.detail)}function _(y){ue(k=>({...k,isPriceFetching:y.detail}))}function m(y){ue(k=>({...k,targets:y.detail}))}function P(y){const k=y.detail,Z=d(i).targets.filter((oe,ae)=>ae!==k);ue(oe=>({...oe,targets:Z})),M.adjustTpPercentages(null)}function L(){const k=(Ia.indexOf(l().currentTheme)+1)%Ia.length;Q.setTheme(Ia[k])}function A(y){const k=y.target.value;M.loadPreset(k)}function E(y){const k=y.target.files?.[0];k&&M.importFromCSV(k)}yr(()=>r(),()=>{er(i,r())}),yr(()=>(l(),d(g),Ua),()=>{l().showChangelogModal&&d(g)===""&&Ua("changelog").then(y=>{er(g,y.html)})}),yr(()=>(l(),d(i),M),()=>{l().isInitializing||(d(i).accountSize,d(i).riskPercentage,d(i).entryPrice,d(i).stopLossPrice,d(i).leverage,d(i).fees,d(i).symbol,d(i).atrValue,d(i).atrMultiplier,d(i).useAtrSl,d(i).tradeType,d(i).targets,d(i).accountSize!==void 0&&d(i).riskPercentage!==void 0&&d(i).entryPrice!==void 0&&d(i).leverage!==void 0&&d(i).fees!==void 0&&d(i).symbol!==void 0&&d(i).atrValue!==void 0&&d(i).atrMultiplier!==void 0&&d(i).useAtrSl!==void 0&&d(i).tradeType!==void 0&&d(i).targets!==void 0&&M.calculateAndDisplay())}),yr(()=>l(),()=>{er(f,l().currentTheme.split("-").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" "))}),rn(),ot();var F=To(),O=Ct(F),C=u(O),T=u(C),S=u(T),R=u(S,!0);c(S);var z=v(S,2),N=u(z,!0);c(z),c(T);var D=v(T,2),V=u(D),X=u(V);K(()=>{d(i),wr(()=>{s()})});var ce=u(X),G=u(ce,!0);c(ce),ce.value=ce.__value="";var q=v(ce);Ft(q,1,()=>(d(i),p(()=>d(i).availablePresets)),It,(y,k)=>{var Z=bo(),oe=u(Z,!0);c(Z);var ae={};K(()=>{b(oe,d(k)),ae!==(ae=d(k))&&(Z.value=(Z.__value=d(k))??"")}),Y(y,Z)}),c(X);var re=v(X,2),$=u(re);ve($,()=>(U(H),p(()=>H.save))),c(re);var ee=v(re,2),xe=u(ee);ve(xe,()=>(U(H),p(()=>H.delete))),c(ee);var Ee=v(ee,2),we=u(Ee);ve(we,()=>(U(H),p(()=>H.broom))),c(Ee);var _e=v(Ee,2),Tt=u(_e);ve(Tt,()=>(U(Cs),l(),p(()=>Cs[l().currentTheme]))),c(_e),c(V);var He=v(V,2),se=u(He,!0);c(He),c(D),c(C);var le=v(C,2),de=u(le),pe=u(de);Ki(pe,{get tradeType(){return d(i).tradeType},set tradeType(y){me(i,d(i).tradeType=y)},get leverage(){return d(i).leverage},set leverage(y){me(i,d(i).leverage=y)},get fees(){return d(i).fees},set fees(y){me(i,d(i).fees=y)},$$legacy:!0});var he=v(pe,2);Xi(he,{get accountSize(){return d(i).accountSize},set accountSize(y){me(i,d(i).accountSize=y)},get riskPercentage(){return d(i).riskPercentage},set riskPercentage(y){me(i,d(i).riskPercentage=y)},$$legacy:!0}),c(de);var Ke=v(de,2);ll(Ke,{get atrFormulaDisplay(){return d(i),p(()=>d(i).atrFormulaText)},get showAtrFormulaDisplay(){return d(i),p(()=>d(i).showAtrFormulaDisplay)},get isPriceFetching(){return d(i),p(()=>d(i).isPriceFetching)},get symbolSuggestions(){return d(i),p(()=>d(i).symbolSuggestions)},get showSymbolSuggestions(){return d(i),p(()=>d(i).showSymbolSuggestions)},get symbol(){return d(i).symbol},set symbol(y){me(i,d(i).symbol=y)},get entryPrice(){return d(i).entryPrice},set entryPrice(y){me(i,d(i).entryPrice=y)},get useAtrSl(){return d(i).useAtrSl},set useAtrSl(y){me(i,d(i).useAtrSl=y)},get atrValue(){return d(i).atrValue},set atrValue(y){me(i,d(i).atrValue=y)},get atrMultiplier(){return d(i).atrMultiplier},set atrMultiplier(y){me(i,d(i).atrMultiplier=y)},get stopLossPrice(){return d(i).stopLossPrice},set stopLossPrice(y){me(i,d(i).stopLossPrice=y)},$$events:{showError:x,setLoading:_,fetchPrice:()=>M.handleFetchPrice(),toggleAtrInputs:y=>Na(y.detail),updateSymbolSuggestions:y=>ue(k=>({...k,symbolSuggestions:y.detail,showSymbolSuggestions:y.detail.length>0})),selectSymbolSuggestion:y=>{ue(k=>({...k,symbol:y.detail,showSymbolSuggestions:!1})),M.handleFetchPrice()}},$$legacy:!0}),c(le);var pt=v(le,2);Ql(pt,{get calculatedTpDetails(){return d(i),p(()=>d(i).calculatedTpDetails)},get targets(){return d(i).targets},set targets(y){me(i,d(i).targets=y)},$$events:{change:m,remove:P},$$legacy:!0});var Pe=v(pt,2);{var $e=y=>{var k=mo(),Z=u(k,!0);c(k),K(oe=>b(Z,oe),[()=>(s(),l(),p(()=>s()(l().errorMessage)))]),Y(y,k)};ye(Pe,y=>{l(),p(()=>l().showErrorMessage)&&y($e)})}var Vt=v(Pe,2),qt=u(Vt),Ar=u(qt);vo(Ar,{get isPositionSizeLocked(){return d(i),p(()=>d(i).isPositionSizeLocked)},get showCopyFeedback(){return l(),p(()=>l().showCopyFeedback)},get positionSize(){return d(i),p(()=>d(i).positionSize)},get netLoss(){return d(i),p(()=>d(i).netLoss)},get requiredMargin(){return d(i),p(()=>d(i).requiredMargin)},get liquidationPrice(){return d(i),p(()=>d(i).liquidationPrice)},get breakEvenPrice(){return d(i),p(()=>d(i).breakEvenPrice)},$$events:{toggleLock:()=>M.togglePositionSizeLock(),copy:()=>Q.showFeedback("copy")}});var Rr=v(Ar,2);{var rr=y=>{var k=xo(),Z=u(k),oe=u(Z,!0),ae=v(oe),be=v(u(ae)),Me=u(be,!0);c(be),c(ae),c(Z);var Ie=v(Z,2),Se=u(Ie),Fe=u(Se,!0),Ne=v(Fe),Be=v(u(Ne)),Ue=u(Be,!0);c(Be),c(Ne),c(Se);var Ve=v(Se),tt=u(Ve,!0);c(Ve),c(Ie);var qe=v(Ie,2),ke=u(qe),Te=u(ke,!0),vt=v(Te),Ce=v(u(vt)),Lt=u(Ce,!0);c(Ce),c(vt),c(ke);var Ye=v(ke),ft=u(Ye,!0);c(Ye),c(qe);var Ge=v(qe,2),Qe=u(Ge),Xe=u(Qe,!0),Je=v(Xe),gt=v(u(Je)),Ze=u(gt,!0);c(gt),c(Je),c(Qe);var At=v(Qe),bt=u(At,!0);c(At),c(Ge);var mt=v(Ge,2),rt=u(mt),at=u(rt,!0),xt=v(at),_t=v(u(xt)),Rt=u(_t,!0);c(_t),c(xt),c(rt);var Et=v(rt),$t=u(Et,!0);c(Et),c(mt);var Dt=v(mt,2),jt=u(Dt),Zt=u(jt,!0),Wt=v(Zt),Ht=v(u(Wt)),vr=u(Ht,!0);c(Ht),c(Wt),c(jt);var Kt=v(jt),fr=u(Kt,!0);c(Kt),c(Dt);var Or=v(Dt,2),gr=u(Or),Dr=u(gr,!0),jr=v(Dr),Mr=v(u(jr)),Ta=u(Mr,!0);c(Mr),c(jr),c(gr);var Nr=v(gr),La=u(Nr,!0);c(Nr),c(Or),c(k),K((Aa,Ra,Ea,Wn,Hn,Kn,Qn,Xn,ei,ti,ri,ai,si,ni)=>{b(oe,Aa),b(Me,Ra),b(Fe,Ea),b(Ue,Wn),b(tt,(d(i),p(()=>d(i).riskAmountCurrency))),b(Te,Hn),b(Lt,Kn),b(ft,(d(i),p(()=>d(i).totalFees))),b(Xe,Qn),b(Ze,Xn),b(bt,(d(i),p(()=>d(i).maxPotentialProfit))),b(at,ei),b(Rt,ti),b($t,(d(i),p(()=>d(i).totalRR))),b(Zt,ri),b(vr,ai),b(fr,(d(i),p(()=>d(i).totalNetProfit))),b(Dr,si),b(Ta,ni),b(La,(d(i),p(()=>d(i).totalPercentSold)))},[()=>(s(),p(()=>s()("dashboard.totalTradeMetrics"))),()=>(s(),p(()=>s()("dashboard.totalTradeMetricsTooltip"))),()=>(s(),p(()=>s()("dashboard.riskPerTradeCurrency"))),()=>(s(),p(()=>s()("dashboard.riskPerTradeCurrencyTooltip"))),()=>(s(),p(()=>s()("dashboard.totalFees"))),()=>(s(),p(()=>s()("dashboard.totalFeesTooltip"))),()=>(s(),p(()=>s()("dashboard.maxPotentialProfit"))),()=>(s(),p(()=>s()("dashboard.maxPotentialProfitTooltip"))),()=>(s(),p(()=>s()("dashboard.weightedRR"))),()=>(s(),p(()=>s()("dashboard.weightedRRTooltip"))),()=>(s(),p(()=>s()("dashboard.totalNetProfit"))),()=>(s(),p(()=>s()("dashboard.totalNetProfitTooltip"))),()=>(s(),p(()=>s()("dashboard.soldPosition"))),()=>(s(),p(()=>s()("dashboard.soldPositionTooltip")))]),Y(y,k)};ye(Rr,y=>{d(i),p(()=>d(i).showTotalMetricsGroup)&&y(rr)})}c(qt);var Gt=v(qt,2);Ft(Gt,5,()=>(d(i),p(()=>d(i).calculatedTpDetails)),It,(y,k)=>{var Z=_o(),oe=u(Z),ae=u(oe);c(oe);var be=v(oe,2),Me=v(u(be)),Ie=u(Me,!0);c(Me),c(be);var Se=v(be,2),Fe=u(Se),Ne=u(Fe,!0),Be=v(Ne),Ue=v(u(Be)),Ve=u(Ue,!0);c(Ue),c(Be),c(Fe);var tt=v(Fe),qe=u(tt);c(tt),c(Se);var ke=v(Se,2),Te=u(ke),vt=u(Te,!0),Ce=v(vt),Lt=v(u(Ce)),Ye=u(Lt,!0);c(Lt),c(Ce),c(Te);var ft=v(Te),Ge=u(ft);c(ft),c(ke);var Qe=v(ke,2),Xe=u(Qe),Je=u(Xe,!0),gt=v(Je),Ze=v(u(gt)),At=u(Ze,!0);c(Ze),c(gt),c(Xe);var bt=v(Xe),mt=u(bt);c(bt),c(Qe);var rt=v(Qe,2),at=u(rt),xt=u(at,!0),_t=v(xt),Rt=v(u(_t)),Et=u(Rt,!0);c(Rt),c(_t),c(at);var $t=v(at),Dt=u($t,!0);c($t),c(rt),c(Z),K((jt,Zt,Wt,Ht,vr,Kt,fr,Or,gr,Dr,jr,Mr,Ta,Nr,La,Aa,Ra,Ea)=>{b(ae,`${jt??""} ${d(k),p(()=>d(k).index+1)??""} (${Zt??""}%)`),fe(Me,1,`result-value ${Wt??""}`),b(Ie,Ht),b(Ne,vr),b(Ve,Kt),b(qe,`+${fr??""}`),b(vt,Or),b(Ye,gr),fe(ft,1,`result-value ${Dr??""}`),b(Ge,`${jr??""}%`),b(Je,Mr),b(At,Ta),fe(bt,1,`result-value ${Nr??""}`),b(mt,`${La??""}%`),b(xt,Aa),b(Et,Ra),b(Dt,Ea)},[()=>(s(),p(()=>s()("dashboard.takeProfit"))),()=>(d(k),p(()=>d(k).percentSold.toFixed(0))),()=>(d(k),p(()=>d(k).riskRewardRatio.gte(2)?"text-green-400":d(k).riskRewardRatio.gte(1.5)?"text-yellow-400":"text-red-400")),()=>(d(k),p(()=>d(k).riskRewardRatio.toFixed(2))),()=>(s(),p(()=>s()("dashboard.netProfit"))),()=>(s(),p(()=>s()("dashboard.netProfitTooltip"))),()=>(d(k),p(()=>d(k).netProfit.toFixed(2))),()=>(s(),p(()=>s()("dashboard.priceChange"))),()=>(s(),p(()=>s()("dashboard.priceChangeTooltip"))),()=>(d(k),p(()=>d(k).priceChangePercent.gt(0)?"text-green-400":d(k).priceChangePercent.lt(0)?"text-red-400":"")),()=>(d(k),p(()=>d(k).priceChangePercent.toFixed(2))),()=>(s(),p(()=>s()("dashboard.returnOnCapital"))),()=>(s(),p(()=>s()("dashboard.returnOnCapitalTooltip"))),()=>(d(k),p(()=>d(k).returnOnCapital.gt(0)?"text-green-400":d(k).returnOnCapital.lt(0)?"text-red-400":"")),()=>(d(k),p(()=>d(k).returnOnCapital.toFixed(2))),()=>(s(),p(()=>s()("dashboard.partialVolume"))),()=>(s(),p(()=>s()("dashboard.partialVolumeTooltip"))),()=>(d(k),p(()=>d(k).partialVolume.toFixed(4)))]),Y(y,Z)}),c(Gt);var ar=v(Gt,2);uo(ar,{get entryPrice(){return d(i),p(()=>d(i).entryPrice)},get stopLossPrice(){return d(i),p(()=>d(i).stopLossPrice)},get tradeType(){return d(i),p(()=>d(i).tradeType)},get targets(){return d(i),p(()=>d(i).targets)},get calculatedTpDetails(){return d(i),p(()=>d(i).calculatedTpDetails)}});var sr=v(ar,2),Jt=u(sr);Oi(Jt);var Ut=v(Jt,2),Ot=u(Ut),ze=u(Ot,!0);c(Ot);var ge=v(Ot,2),ht=u(ge);ve(ht,()=>(U(H),p(()=>H.book))),c(ge);var nr=v(ge,2);{var ta=y=>{var k=ko();let Z;var oe=u(k,!0);c(k),K((ae,be)=>{Z=fe(k,1,"save-feedback",null,Z,ae),b(oe,be)},[()=>({visible:l().showSaveFeedback}),()=>(s(),p(()=>s()("dashboard.savedFeedback")))]),Y(y,k)};ye(nr,y=>{l(),p(()=>l().showSaveFeedback)&&y(ta)})}c(Ut);var Er=v(Ut,2),ra=u(Er);go(ra,{}),c(Er),c(sr),c(Vt),c(O);var ir=v(O,2),aa=v(u(ir));c(ir);var Yt=v(ir,2);let $r;var zr=u(Yt),lr=u(zr),sa=u(lr),_n=u(sa,!0);c(sa);var is=v(sa);c(lr);var na=v(lr,4),Ir=u(na);Oe(Ir);var ia=v(Ir);K(()=>{d(i),wr(()=>{s()})});var or=u(ia),kn=u(or,!0);c(or),or.value=or.__value="all";var cr=v(or),yn=u(cr,!0);c(cr),cr.value=cr.__value="Open";var ur=v(cr),wn=u(ur,!0);c(ur),ur.value=ur.__value="Won";var Fr=v(ur),Pn=u(Fr,!0);c(Fr),Fr.value=Fr.__value="Lost",c(ia),c(na);var la=v(na,2),ls=u(la),oa=u(ls),os=u(oa),ca=u(os),Sn=u(ca,!0);c(ca);var ua=v(ca),Tn=u(ua,!0);c(ua);var da=v(ua),Ln=u(da,!0);c(da);var pa=v(da),An=u(pa,!0);c(pa);var ha=v(pa),Rn=u(ha,!0);c(ha);var va=v(ha),En=u(va,!0);c(va);var fa=v(va),$n=u(fa,!0);c(fa);var ga=v(fa),zn=u(ga,!0);c(ga);var cs=v(ga),In=u(cs,!0);c(cs),c(os),c(oa);var us=v(oa),ds=u(us);Ft(ds,1,()=>(o(),d(i),p(()=>o().filter(y=>y.symbol.toLowerCase().includes(d(i).journalSearchQuery.toLowerCase())&&(d(i).journalFilterStatus==="all"||y.status===d(i).journalFilterStatus)))),It,(y,k)=>{var Z=yo(),oe=u(Z),ae=u(oe,!0);c(oe);var be=v(oe),Me=u(be,!0);c(be);var Ie=v(be),Se=u(Ie,!0);c(Ie);var Fe=v(Ie),Ne=u(Fe,!0);c(Fe);var Be=v(Fe),Ue=u(Be,!0);c(Be);var Ve=v(Be),tt=u(Ve,!0);c(Ve);var qe=v(Ve),ke=u(qe),Te=u(ke),vt=u(Te,!0);c(Te),Te.value=Te.__value="Open";var Ce=v(Te),Lt=u(Ce,!0);c(Ce),Ce.value=Ce.__value="Won";var Ye=v(Ce),ft=u(Ye,!0);c(Ye),Ye.value=Ye.__value="Lost",c(ke),c(qe);var Ge=v(qe),Qe=u(Ge,!0);c(Ge);var Xe=v(Ge),Je=u(Xe),gt=u(Je);ve(gt,()=>(U(H),p(()=>H.delete))),c(Je),c(Xe),c(Z),K((Ze,At,bt,mt,rt,at,xt,_t,Rt,Et,$t)=>{b(ae,Ze),b(Me,(d(k),p(()=>d(k).symbol||"-"))),fe(Ie,1,(d(k),U(I),p(()=>d(k).tradeType===I.TRADE_TYPE_LONG?"text-green-400":"text-red-400"))),b(Se,At),b(Ne,bt),b(Ue,mt),fe(Ve,1,rt),b(tt,at),j(ke,"data-id",(d(k),p(()=>d(k).id))),Fa(Te,(d(k),p(()=>d(k).status==="Open"))),b(vt,xt),Fa(Ce,(d(k),p(()=>d(k).status==="Won"))),b(Lt,_t),Fa(Ye,(d(k),p(()=>d(k).status==="Lost"))),b(ft,Rt),j(Ge,"title",Et),b(Qe,(d(k),p(()=>d(k).notes||""))),j(Je,"data-id",(d(k),p(()=>d(k).id))),j(Je,"title",$t)},[()=>(d(k),p(()=>new Date(d(k).date).toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"}))),()=>(d(k),p(()=>d(k).tradeType.charAt(0).toUpperCase()+d(k).tradeType.slice(1))),()=>(d(k),p(()=>d(k).entryPrice.toFixed(4))),()=>(d(k),p(()=>d(k).stopLossPrice.toFixed(4))),()=>(d(k),p(()=>d(k).totalRR.gte(2)?"text-green-400":d(k).totalRR.gte(1.5)?"text-yellow-400":"text-red-400")),()=>(d(k),p(()=>d(k).totalRR.toFixed(2))),()=>(s(),p(()=>s()("journal.filterOpen"))),()=>(s(),p(()=>s()("journal.filterWon"))),()=>(s(),p(()=>s()("journal.filterLost"))),()=>(s(),p(()=>s()("journal.clickToExpand"))),()=>(s(),p(()=>s()("journal.delete")))]),B("change",ke,Ze=>M.updateTradeStatus(d(k).id,Ze.target.value)),B("click",Ge,Ze=>Ze.target.classList.toggle("expanded")),B("click",Je,()=>M.deleteTrade(d(k).id)),Y(y,Z)});var Fn=v(ds);{var Cn=y=>{var k=wo(),Z=u(k),oe=u(Z,!0);c(Z),c(k),K(ae=>b(oe,ae),[()=>(s(),p(()=>s()("journal.noTradesYet")))]),Y(y,k)};ye(Fn,y=>{o(),d(i),p(()=>o().filter(k=>k.symbol.toLowerCase().includes(d(i).journalSearchQuery.toLowerCase())&&(d(i).journalFilterStatus==="all"||k.status===d(i).journalFilterStatus)).length===0)&&y(Cn)})}c(us),c(ls),c(la);var ba=v(la,2),On=u(ba,!0);c(ba);var ma=v(ba,2),ps=u(ma),xa=u(ps),hs=u(xa),_a=u(hs),Dn=u(_a,!0);c(_a);var ka=v(_a),jn=u(ka,!0);c(ka);var ya=v(ka),Mn=u(ya,!0);c(ya);var vs=v(ya),Nn=u(vs,!0);c(vs),c(hs),c(xa);var fs=v(xa),gs=u(fs);Ft(gs,1,()=>(U(M),o(),p(()=>Object.entries(M.calculator.calculateSymbolPerformance(o())))),It,(y,k)=>{var Z=Di(()=>ji(d(k),2));let oe=()=>d(Z)[0],ae=()=>d(Z)[1];var be=Po(),Me=u(be),Ie=u(Me,!0);c(Me);var Se=v(Me),Fe=u(Se,!0);c(Se);var Ne=v(Se),Be=u(Ne);c(Ne);var Ue=v(Ne),Ve=u(Ue,!0);c(Ue),c(be),K((tt,qe,ke)=>{b(Ie,oe()),b(Fe,(ae(),p(()=>ae().totalTrades))),b(Be,`${tt??""}%`),fe(Ue,1,qe),b(Ve,ke)},[()=>(ae(),p(()=>(ae().totalTrades>0?ae().wonTrades/ae().totalTrades*100:0).toFixed(1))),()=>(ae(),p(()=>ae().totalProfitLoss.gt(0)?"text-green-400":ae().totalProfitLoss.lt(0)?"text-red-400":"")),()=>(ae(),p(()=>ae().totalProfitLoss.toFixed(2)))]),Y(y,be)});var Bn=v(gs);{var Vn=y=>{var k=So(),Z=u(k),oe=u(Z,!0);c(Z),c(k),K(ae=>b(oe,ae),[()=>(s(),p(()=>s()("journal.noData")))]),Y(y,k)};ye(Bn,y=>{U(M),o(),p(()=>Object.keys(M.calculator.calculateSymbolPerformance(o())).length===0)&&y(Vn)})}c(fs),c(ps),c(ma);var bs=v(ma,2),dr=u(bs),ms=u(dr);ve(ms,()=>(U(H),p(()=>H.export)));var xs=v(ms),qn=u(xs,!0);c(xs),c(dr);var _s=v(dr,2),Cr=v(_s,2),ks=u(Cr);ve(ks,()=>(U(H),p(()=>H.import)));var ys=v(ks),Gn=u(ys,!0);c(ys),c(Cr);var pr=v(Cr,2),ws=u(pr);ve(ws,()=>(U(H),p(()=>H.delete)));var Ps=v(ws),Jn=u(Ps,!0);c(Ps),c(pr);var hr=v(pr,2),Un=u(hr);ve(Un,()=>(U(H),p(()=>H.book))),c(hr),c(bs),c(zr),c(Yt);var Ss=v(Yt,2);no(Ss,{});var wa=v(Ss,2);let Ts;var Ls=u(wa),Pa=u(Ls),Sa=u(Pa),Yn=u(Sa,!0);c(Sa);var As=v(Sa,2);c(Pa);var Rs=v(Pa,2),Zn=u(Rs);ve(Zn,()=>d(g)),c(Rs),c(Ls),c(wa),K((y,k,Z,oe,ae,be,Me,Ie,Se,Fe,Ne,Be,Ue,Ve,tt,qe,ke,Te,vt,Ce,Lt,Ye,ft,Ge,Qe,Xe,Je,gt,Ze,At,bt,mt,rt,at,xt,_t,Rt,Et,$t,Dt,jt,Zt,Wt,Ht,vr,Kt,fr)=>{b(R,y),j(z,"title",k),b(N,Z),b(G,oe),j(re,"title",ae),j(re,"aria-label",be),j(ee,"title",Me),ee.disabled=(d(i),p(()=>!d(i).selectedPreset)),j(Ee,"title",Ie),j(_e,"aria-label",Se),j(_e,"title",d(f)),j(He,"title",Fe),b(se,Ne),j(Jt,"placeholder",Be),Ot.disabled=(d(i),p(()=>d(i).positionSize==="-")),b(ze,Ue),j(ge,"title",Ve),j(ge,"aria-label",tt),$r=fe(Yt,1,"modal-overlay",null,$r,qe),b(_n,ke),j(is,"aria-label",Te),j(Ir,"placeholder",vt),b(kn,Ce),b(yn,Lt),b(wn,Ye),b(Pn,ft),b(Sn,Ge),b(Tn,Qe),b(Ln,Xe),b(An,Je),b(Rn,gt),b(En,Ze),b($n,At),b(zn,bt),b(In,mt),b(On,rt),b(Dn,at),b(jn,xt),b(Mn,_t),b(Nn,Rt),j(dr,"title",Et),b(qn,$t),b(Gn,Dt),j(pr,"title",jt),b(Jn,Zt),j(hr,"title",Wt),j(hr,"aria-label",Ht),Ts=fe(wa,1,"modal-overlay",null,Ts,vr),b(Yn,Kt),j(As,"aria-label",fr)},[()=>(s(),p(()=>s()("app.title"))),()=>(s(),p(()=>s()("app.journalButtonTitle"))),()=>(s(),p(()=>s()("app.journalButton"))),()=>(s(),p(()=>s()("dashboard.presetLoad"))),()=>(s(),p(()=>s()("dashboard.savePresetTitle"))),()=>(s(),p(()=>s()("dashboard.savePresetAriaLabel"))),()=>(s(),p(()=>s()("dashboard.deletePresetTitle"))),()=>(s(),p(()=>s()("dashboard.resetButtonTitle"))),()=>(s(),p(()=>s()("dashboard.themeSwitcherAriaLabel"))),()=>(s(),p(()=>s()("app.journalButtonTitle"))),()=>(s(),p(()=>s()("app.journalButton"))),()=>(s(),p(()=>s()("dashboard.tradeNotesPlaceholder"))),()=>(s(),p(()=>s()("dashboard.addTradeToJournal"))),()=>(s(),p(()=>s()("dashboard.showInstructionsTitle"))),()=>(s(),p(()=>s()("dashboard.showInstructionsAriaLabel"))),()=>({visible:l().showJournalModal,"opacity-100":l().showJournalModal}),()=>(s(),p(()=>s()("journal.title"))),()=>(s(),p(()=>s()("journal.closeJournalAriaLabel"))),()=>(s(),p(()=>s()("journal.searchSymbolPlaceholder"))),()=>(s(),p(()=>s()("journal.filterAll"))),()=>(s(),p(()=>s()("journal.filterOpen"))),()=>(s(),p(()=>s()("journal.filterWon"))),()=>(s(),p(()=>s()("journal.filterLost"))),()=>(s(),p(()=>s()("journal.date"))),()=>(s(),p(()=>s()("journal.symbol"))),()=>(s(),p(()=>s()("journal.type"))),()=>(s(),p(()=>s()("journal.entry"))),()=>(s(),p(()=>s()("journal.sl"))),()=>(s(),p(()=>s()("journal.rr"))),()=>(s(),p(()=>s()("journal.status"))),()=>(s(),p(()=>s()("journal.notes"))),()=>(s(),p(()=>s()("journal.action"))),()=>(s(),p(()=>s()("journal.performancePerSymbol"))),()=>(s(),p(()=>s()("journal.symbol"))),()=>(s(),p(()=>s()("journal.trades"))),()=>(s(),p(()=>s()("journal.profitPercent"))),()=>(s(),p(()=>s()("journal.totalPL"))),()=>(s(),p(()=>s()("journal.exportCsvTitle"))),()=>(s(),p(()=>s()("journal.export"))),()=>(s(),p(()=>s()("journal.import"))),()=>(s(),p(()=>s()("journal.clearJournalTitle"))),()=>(s(),p(()=>s()("journal.clearAll"))),()=>(s(),p(()=>s()("journal.showJournalInstructionsTitle"))),()=>(s(),p(()=>s()("journal.showJournalInstructionsAriaLabel"))),()=>({visible:l().showChangelogModal,"opacity-100":l().showChangelogModal}),()=>(s(),p(()=>s()("app.changelogTitle"))),()=>(s(),p(()=>s()("app.closeChangelogAriaLabel")))]),B("click",z,()=>Q.toggleJournalModal(!0)),B("change",X,A),js(X,()=>d(i).selectedPreset,y=>me(i,d(i).selectedPreset=y)),B("click",re,function(...y){M.savePreset?.apply(this,y)}),B("click",ee,function(...y){M.deletePreset?.apply(this,y)}),B("click",Ee,function(...y){sn?.apply(this,y)}),B("click",_e,L),B("click",He,()=>Q.toggleJournalModal(!0)),De(Jt,()=>d(i).tradeNotes,y=>me(i,d(i).tradeNotes=y)),B("click",Ot,function(...y){M.addTrade?.apply(this,y)}),B("click",ge,()=>M.uiManager.showReadme("dashboard")),B("click",aa,()=>Q.toggleChangelogModal(!0)),B("click",is,()=>Q.toggleJournalModal(!1)),De(Ir,()=>d(i).journalSearchQuery,y=>me(i,d(i).journalSearchQuery=y)),js(ia,()=>d(i).journalFilterStatus,y=>me(i,d(i).journalFilterStatus=y)),B("click",dr,function(...y){M.exportToCSV?.apply(this,y)}),B("change",_s,E),B("click",Cr,()=>document.getElementById("import-csv-input")?.click()),B("click",pr,function(...y){M.clearJournal?.apply(this,y)}),B("click",hr,()=>M.uiManager.showReadme("journal")),B("click",As,()=>Q.toggleChangelogModal(!1)),Y(t,F),ut(),n()}export{zo as component};
